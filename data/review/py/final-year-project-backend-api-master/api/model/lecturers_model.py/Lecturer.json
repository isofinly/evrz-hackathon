{"embedding": [0.03516322001814842, 0.01800302229821682, -0.14923618733882904, 0.33427736163139343, 0.1812708079814911, -0.8614742755889893, -0.4628579616546631, -0.16643032431602478, -0.5613306760787964, 0.09008246660232544, -0.15402810275554657, -0.4172325134277344, 0.2392856478691101, 0.8170216679573059, 0.6414362192153931, 0.10992579162120819, 0.20699526369571686, -0.6717084050178528, 0.059442952275276184, -1.0345872640609741, 0.12352987378835678, -0.5631310939788818, -0.04539644718170166, 0.08958770334720612, -0.44507235288619995, 0.041511744260787964, -0.13319143652915955, 0.25659996271133423, 0.13475941121578217, 0.4394433796405792, 0.2657357454299927, 0.23682284355163574, 0.24831248819828033, 0.09439720213413239, -0.12255783379077911, -0.48944374918937683, -0.4314127266407013, -0.0877050831913948, 0.2154112309217453, 0.2522841691970825, 0.6137332916259766, 1.0619698762893677, -0.19314239919185638, -0.31829071044921875, -0.3043693006038666, -0.04823000729084015, -0.3253714144229889, 0.0075352550484240055, 0.6715580821037292, -0.5364562273025513, -0.6389850974082947, 0.058647699654102325, 0.31973570585250854, 0.1328584849834442, 0.17967340350151062, -1.017462968826294, -0.5340366959571838, 0.5982052087783813, 0.21378064155578613, -0.4434193968772888, 0.03283054381608963, 0.1261366903781891, 0.2873941659927368, 0.5605524182319641, 0.5908439755439758, 0.3270877003669739, -0.12649023532867432, 0.08917190879583359, 0.6212107539176941, 0.3166998624801636, -0.2135593146085739, 0.16960257291793823, 0.15366676449775696, 0.505720317363739, 0.5498117804527283, -0.47781503200531006, -0.2594095468521118, -0.3747199773788452, 0.15353403985500336, -0.5462471842765808, 0.19649870693683624, -0.36005812883377075, -0.14657175540924072, 0.4796926975250244, 0.8826790452003479, 0.5082718729972839, 0.5945311784744263, -0.40541326999664307, -0.6695122122764587, -0.03960060328245163, -0.28942325711250305, -0.008228623308241367, -0.32539770007133484, 0.6940872073173523, 0.13256382942199707, -0.5890859365463257, -0.29641151428222656, 0.2358940839767456, -0.2313130646944046, -0.45768243074417114, 0.27648502588272095, -0.06502387672662735, -0.2712349593639374, -0.05436985567212105, -0.00748300738632679, -0.7576407790184021, -0.4140363931655884, -0.529228925704956, -0.2820492386817932, -0.33725568652153015, -0.9522704482078552, 0.4293886423110962, -0.0646093562245369, 0.4114548861980438, -0.4138050377368927, -0.034809358417987823, 0.2794075012207031, -0.06773112714290619, -0.013326115906238556, -0.8316222429275513, 0.6415975689888, -0.6269643306732178, -0.04991772025823593, 0.5034171938896179, 0.031983185559511185, 0.8632140159606934, -0.7001336216926575, 0.5240976214408875, 0.5914000868797302, -0.5937307476997375, 0.15129883587360382, 0.032892659306526184, 0.1853325515985489, 0.03557778149843216, 0.548163652420044, -0.04029996320605278, -0.29838088154792786, -0.11442513018846512, 0.18047888576984406, 0.7143609523773193, -0.19828522205352783, -0.19003014266490936, 0.3923833668231964, 0.03587213531136513, 0.3178931772708893, -0.15575304627418518, -1.1271953582763672, 0.3854672610759735, -0.9680348634719849, 0.02749701589345932, 0.14728756248950958, -0.20066936314105988, 0.3524961471557617, -0.391029953956604, -0.02045147307217121, 0.44297558069229126, -0.4052785634994507, -0.41425621509552, 0.5990559458732605, -0.8674668669700623, -0.39364093542099, -0.4903407394886017, -0.20892275869846344, 0.5356031656265259, -0.05547722801566124, 0.3245137929916382, 0.3359783887863159, -0.5710180997848511, -0.030942672863602638, 0.31029215455055237, -0.09275376796722412, -0.12032853066921234, 0.02178771235048771, 0.04668831825256348, -0.5004112720489502, 0.28736433386802673, 1.0377331972122192, -0.2628180682659149, 0.3903534710407257, -0.33520346879959106, -0.08503700792789459, -0.49072524905204773, 0.02348743937909603, -0.08867800980806351, 0.49047136306762695, -0.16093549132347107, -0.33117005228996277, 0.6163249015808105, 0.7015823125839233, 0.3466587960720062, -0.41473686695098877, 0.11083623021841049, -0.41032522916793823, 0.1353231817483902, -0.06996894627809525, 0.3102874457836151, 0.19433963298797607, 0.9583327770233154, -0.5728331208229065, 0.11942102015018463, 0.0013927370309829712, 0.15545149147510529, -0.08394192159175873, -0.7958749532699585, -0.12254975736141205, 0.31986555457115173, -0.5790821313858032, 0.29330945014953613, 0.07842641323804855, -1.2657126188278198, 0.18238800764083862, -0.0711202546954155, -0.14950668811798096, -0.04951908439397812, 0.703711211681366, -1.3451186418533325, 1.117485761642456, -0.4904293417930603, -0.17809882760047913, 0.22000552713871002, -0.244823157787323, -0.5406245589256287, -0.7750535011291504, -1.0710793733596802, 0.2017935961484909, -0.7465853095054626, -0.36835458874702454, -0.19622603058815002, -0.09734539687633514, 0.15888607501983643, -0.13072626292705536, -0.5156822204589844, -0.05996391177177429, 0.32860076427459717, -0.40078315138816833, 0.5510479807853699, -0.4200894832611084, 0.7506380677223206, -0.6586058139801025, 0.0022719185799360275, 0.0927252471446991, 0.4949233829975128, 0.06631862372159958, -0.5451374650001526, 0.498203843832016, -0.06763632595539093, 0.8124188184738159, 0.13806937634944916, -0.4995529353618622, -0.636917769908905, -0.1402922123670578, -0.3774875998497009, 0.32938095927238464, 0.43038129806518555, -0.31256482005119324, -0.6309045553207397, -0.2895444929599762, 0.6816474795341492, -0.057493411004543304, -0.4251437485218048, -0.039194460958242416, -0.07066792994737625, -0.19871865212917328, 0.14598305523395538, -0.24108697474002838, -0.6047578454017639, -0.07510887831449509, 0.17905013263225555, -0.3628879487514496, -0.25160250067710876, -0.6953610181808472, 0.00044430966954678297, -0.20488381385803223, -0.6441184282302856, -0.12436791509389877, -0.6111946105957031, -0.2889082729816437, -0.5069249272346497, -0.48102352023124695, -0.601304829120636, -0.08175346255302429, -0.19810478389263153, 0.30148938298225403, 0.962106466293335, 0.07648134976625443, 0.09446387737989426, -0.18706347048282623, 0.10160414129495621, -0.11205702275037766, 0.3281749486923218, 0.18107689917087555, -0.12338809669017792, 0.47535306215286255, 0.18137691915035248, 0.28033652901649475, 0.3961198925971985, 0.11588729172945023, 0.8022782802581787, -0.0005709360120818019, -0.06918547302484512, 0.1643330156803131, 0.31510162353515625, 1.3803753852844238, 0.12692654132843018, -0.5304324626922607, -0.520472526550293, 0.11765694618225098, -0.3481973707675934, 0.354255348443985, -0.33305975794792175, -0.10821431875228882, -0.251787006855011, 0.3822934627532959, 0.9596019983291626, -0.3185774087905884, -0.09651400148868561, -0.6552488207817078, -0.17796951532363892, 0.34783488512039185, 0.6502903699874878, 0.44003474712371826, 0.6878261566162109, 0.6598392128944397, 0.05110699310898781, 0.914244532585144, -0.914450466632843, 0.8421124815940857, 0.2141077071428299, 0.23887589573860168, 0.14449535310268402, -1.0221446752548218, -0.6399878263473511, 0.29634448885917664, -0.00033052777871489525, 0.3367626368999481, 0.0890967920422554, -0.7453959584236145, -0.864620566368103, 0.08736757189035416, -0.024852868169546127, -0.030597751960158348, -0.6765258312225342, 0.15346820652484894, -0.08085240423679352, 0.5661231875419617, -0.4300875961780548, -0.3017575740814209, 0.479955792427063, -0.04154127836227417, 0.4025263488292694, -0.14851397275924683, -0.21400132775306702, 0.287339985370636, 0.7666672468185425, -0.6350275278091431, -0.5071311593055725, 0.04615946114063263, -0.3062589764595032, 0.3999374806880951, -0.17276588082313538, -0.006948055233806372, -0.009698038920760155, 0.1411520540714264, 0.2127162218093872, 0.34744974970817566, 0.5952140092849731, -0.40663793683052063, -0.5273910164833069, -0.07938945293426514, -0.21945060789585114, -0.27467986941337585, 0.3710802495479584, -0.29376187920570374, 0.42993447184562683, 0.33929914236068726, -0.32845431566238403, 0.3540594279766083, 1.063525915145874, -0.3552197515964508, -0.11398326605558395, -0.5495623350143433, 0.0941419005393982, 0.3452254831790924, 0.5610391497612, -0.013177801854908466, -0.8617971539497375, 0.5256476998329163, -0.3700433671474457, -0.041570913046598434, -0.7576082944869995, -0.05262044072151184, 0.04504060000181198, -0.30328211188316345, -0.05183960497379303, -0.3465592861175537, -0.2050216645002365, 0.021316906437277794, -0.2053854912519455, 0.5167089700698853, -0.11233028769493103, -0.10675102472305298, -0.3893578052520752, 0.6417146921157837, -0.04619945213198662, 0.06463366001844406, 0.6150872707366943, 0.6055245399475098, -0.09831490367650986, -0.36951693892478943, 0.2289423793554306, 0.12707537412643433, -0.18192221224308014, -0.40114134550094604, 0.35489028692245483, 0.29445725679397583, -0.5277984738349915, 0.07647080719470978, -0.2163224220275879, 0.31028449535369873, 1.1285001039505005, 0.029461098834872246, 0.3890065550804138, 0.5291471481323242, 0.8691378831863403, -0.5666937828063965, 0.3294387757778168, -0.27997758984565735, 0.11574520170688629, -0.7232047319412231, 0.1704249233007431, -0.0590706542134285, 0.5097370743751526, -0.10099593549966812, -0.07190778851509094, 0.36264365911483765, -0.21399752795696259, 0.4050361216068268, 0.30487120151519775, -0.68317711353302, 0.002532518468797207, 0.9511920809745789, 0.1689523607492447, 0.479184091091156, -0.03960424289107323, 0.3807283043861389, -0.24742357432842255, -0.9611495137214661, 0.15902219712734222, 0.390982449054718, 0.6259869337081909, 0.2630368769168854, 0.020211607217788696, 0.34127798676490784, 0.5817595720291138, -0.46414679288864136, 0.26256468892097473, 0.46771231293678284, -0.6230753660202026, 0.6839425563812256, 0.11720626801252365, 0.07343004643917084, -0.4007825255393982, 0.11929604411125183, 0.7051190137863159, -0.037969253957271576, -0.160976842045784, -0.5621923208236694, -0.2557390630245209, -0.3944450616836548, 0.255929172039032, 0.4198461174964905, 0.26648014783859253, 0.21271474659442902, -0.41821494698524475, -0.16707050800323486, -0.2607309818267822, -0.0044108047150075436, -0.5382103323936462, 0.2552027404308319, -0.1972888559103012, 0.3619575500488281, -0.3689858913421631, -0.16936461627483368, 0.06260386854410172, 0.3792247772216797, -0.32047659158706665, -0.48653644323349, -0.11060240119695663, -0.7079103589057922, 0.11975105851888657, -0.5567607879638672, -0.23893167078495026, 0.4427878260612488, 0.21639806032180786, -0.17522801458835602, 0.19251102209091187, -0.09815742820501328, -0.04623885080218315, 0.01659657433629036, -0.004007622133940458, -0.27599409222602844, 0.760515034198761, 0.45949721336364746, 0.20009830594062805, 0.08957299590110779, -0.1235918328166008, -0.4263445734977722, -0.12164989113807678, -0.033345919102430344, -0.017236849293112755, 0.3820105195045471, -0.7046414613723755, 0.7474976778030396, -0.1121877059340477, -0.41615021228790283, 0.19338814914226532, 0.5555390119552612, 0.18270882964134216, 0.4324016273021698, 0.2328314632177353, 0.10815557092428207, 0.16972510516643524, 0.15376141667366028, -0.002228874946013093, -0.022936172783374786, 0.3031398355960846, 0.49223315715789795, -0.3444012701511383, 0.17276793718338013, 0.5351818799972534, -0.04872823879122734, 0.0790695771574974, 0.4152944087982178, 0.09890225529670715, -0.5862393975257874, 0.6107004284858704, -0.17161288857460022, -0.28060182929039, 0.20556895434856415, -0.17177709937095642, 0.38032835721969604, 0.27956074476242065, 0.015459450893104076, -0.20754985511302948, -0.7923893332481384, -0.6862219572067261, -0.258900910615921, 0.09528867900371552, 0.02255689539015293, -0.4378543198108673, -0.025888608768582344, 0.7669588923454285, 0.0026500988751649857, -0.2748950719833374, 0.5332584381103516, 0.1524418145418167, 0.25315171480178833, 0.03963080048561096, 0.2618104815483093, 0.07617238163948059, -0.2749374508857727, -0.4317026138305664, 0.21798862516880035, -0.03996386379003525, 0.42589494585990906, -0.08932005614042282, 0.28693437576293945, -0.2043963223695755, -0.09988529980182648, -0.12424586713314056, -0.37341633439064026, 0.1587316393852234, 0.3026042580604553, 0.8977006077766418, -0.36308199167251587, -0.38967734575271606, -0.5011372566223145, 0.09481382369995117, -0.08181215822696686, -0.30694448947906494, 0.30943089723587036, 0.13227614760398865, -0.12910301983356476, -0.708696186542511, -0.2017921805381775, 0.30913931131362915, 0.09671565145254135, 0.9268254637718201, 0.2590760588645935, -0.3894928991794586, -0.15612104535102844, 0.1281665414571762, -0.6535857319831848, -0.11293022334575653, 0.5285974740982056, 0.4352836608886719, -0.4512656331062317, 0.1537797749042511, -0.7051801681518555, -0.07511977106332779, -0.5040823817253113, 0.49529552459716797, 0.10647747665643692, -0.03551100566983223, 0.19033506512641907, -0.34624069929122925, -0.09067294746637344, 0.4254309833049774, -0.7966310381889343, 0.12923111021518707, -0.10187875479459763, 0.29771357774734497, 0.3669094741344452, 0.4915003478527069, 0.5428704023361206, -0.6196082234382629, -0.7524879574775696, 0.5276769399642944, 0.17031261324882507, 0.05356358364224434, -0.9004552364349365, 0.3812955319881439, 0.18952855467796326, 0.7075789570808411, -0.8891049027442932, 0.159362331032753, 0.13993123173713684, -0.5538168549537659, -0.028345590457320213, -0.41939133405685425, 0.12328404933214188, -0.7404918074607849, 0.10885296016931534, -0.009341585449874401, 0.38481637835502625, -0.6759747266769409, 0.5545822381973267, -0.596234142780304, 0.13418380916118622, 0.18973815441131592, -0.6260747313499451, 0.017056291922926903, 0.010055968537926674, 0.20669437944889069, 0.13850049674510956, 0.908653974533081, 0.4146227240562439, -0.32668355107307434, 0.10802876949310303, 0.26123368740081787, -0.574262797832489, 0.09411566704511642, 0.6664866209030151, -0.7985800504684448, -0.7830756902694702, -0.12588223814964294, -0.432444304227829, -0.5200812816619873, -0.19306184351444244, 0.5151061415672302, 0.048673637211322784, -0.2935912311077118, 0.22684583067893982, -0.6518352031707764, 0.833262026309967, 0.5733275413513184, 0.1918051391839981, 0.5647950768470764, 0.21544601023197174, 0.965993344783783, 0.1910332441329956, -0.09008292108774185, 0.9880089163780212, 0.252929151058197, 0.015682026743888855, -0.14413607120513916, -0.20297342538833618, -0.16844232380390167, 0.7857041358947754, -0.0433141328394413, -0.025981135666370392, 0.6951932311058044, 0.09222333878278732, 0.5831690430641174, -0.22377416491508484, 0.35598793625831604, 0.12405990064144135, -0.35431545972824097, 0.4941866397857666, -0.7900809645652771, -0.3597891628742218, 0.0910310372710228, -0.9902665019035339, 0.1492214947938919, -0.5093368291854858, -1.4091354608535767, -0.39148879051208496, -0.0958334282040596, 0.2451319843530655, 0.43566057085990906, 0.5699609518051147, 0.2651738226413727, 0.23199181258678436, 1.0980334281921387, -0.06154393032193184, 0.07958322763442993, 0.017859485000371933, -0.3286139667034149, -0.036597009748220444, -0.22502490878105164, 0.5529637336730957, 0.7738879919052124, 0.5926285982131958, -0.4332857131958008, 0.1415097713470459, 0.330266535282135, 0.7840456962585449, 0.00692979758605361, -0.05080517753958702, 0.18456831574440002, 0.24807269871234894, -0.24400033056735992, 0.4487048387527466, -0.7099487781524658, 0.426669716835022, -0.4512495994567871, -0.035684846341609955, -0.6750916242599487, 0.28134360909461975, -0.23675285279750824, -0.16775965690612793, 0.07657782733440399, 0.044681988656520844, 0.2611549198627472, 0.14343246817588806, -0.6714881062507629, -0.11075320094823837, -0.15958420932292938, -0.7978487014770508, 0.14948783814907074, -0.7101570963859558, 0.027439473196864128, -0.08862295001745224, 0.16963094472885132, -0.06033605337142944, 0.25349047780036926, -0.03923701494932175, -0.5268023014068604, 0.14214067161083221, -0.2502502202987671, 0.9678604006767273, 0.49711745977401733, -0.4860230088233948, -0.05760689079761505, 0.04008759558200836, -0.22668464481830597, 0.3590534031391144, 0.23439399898052216, -0.040114011615514755, 0.21736660599708557, 0.17073720693588257, 0.2261154055595398, -0.039301034063100815, 0.2866716682910919, 0.34400174021720886, 0.4812193214893341, 0.020982299000024796, 0.053686585277318954], "query": "class Lecturer(db.Model):\n\n    __tablename__ = 'lecturers'\n\n    id = db.Column(db.Integer, primary_key=True, autoincrement=True)\n    name = db.Column(db.String(100))\n    email = db.Column(db.String(128), index=True)\n    department_id = db.Column(db.Integer, db.ForeignKey('departments.id'))\n    password_hash = db.Column(db.String(128))\n    assigned_courses = db.relationship('Course', secondary=assigned_courses,\n        backref=db.backref('lecturers_assigned', lazy='dynamic'), lazy='dynamic')\n    lecture_attendance = db.relationship('Course', secondary=lecture_attendance,\n        backref=db.backref('lecturer_lecture_attended', lazy='dynamic'), lazy='dynamic')\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n\n    def __init__(self, name, email, department_code, password):\n        self.name = name.title()\n        self.email = email\n        self.department = Department.query.filter_by(\n            code=department_code).first()\n        self.password = password\n\n    @property\n    def to_dict(self):\n        json_lecturer = {\n            'id': self.id,\n            'name': self.name,\n            'email': self.email,\n            'department': self.department.code,\n            'school': self.department.school.code,\n            # 'registered_on': arrow.get(self.created_at).for_json(),\n            # 'registered_since': arrow.get(self.created_at).humanize(),\n        }\n        return json_lecturer\n\n    def assign_course(self, course):\n        if not self.is_assigned(course):\n            self.assigned_courses.append(course)\n\n    def is_assigned(self, course):\n        return self.assigned_courses.filter(assigned_courses.c.course_id == course.id).count() > 0\n\n    def attend_lecture(self, course):\n\n        if not self.is_lecture_attended(course):\n            self.lecture_attendance.append(course)\n            # Create lecture day1 column in students lecture table if column doesn't exist\n            sql = f'''\n                SHOW COLUMNS\n                FROM {student_lectures_table_name}\n                LIKE 'day1'\n            '''\n            result = db.session.execute(sql)\n            column_exists = result.fetchone()\n\n            if not column_exists:\n                sql = f'''\n                    ALTER TABLE {student_lectures_table_name}\n                    ADD day1 INT NOT NULL DEFAULT 0\n                '''\n                db.session.execute(sql)\n        else:\n            # Increment lecture attendance count for lecturer\n            sql = f'''\n                UPDATE {lecturer_lectures_table_name}\n                SET count = count + 1\n                WHERE lecturer_id = {self.id}\n                AND course_id = {course.id}\n            '''\n            db.session.execute(sql)\n            db.session.commit()\n\n            # Get current lecturer lecture count\n            sql = f'''\n                SELECT count\n                FROM {lecturer_lectures_table_name}\n                WHERE lecturer_id = {self.id}\n                AND course_id = {course.id}\n                LIMIT 1\n            '''\n            result = db.session.execute(sql)\n            lecture_count = result.fetchone()[0]\n            \n            # Create lecture day column in students lecture table with current count if column doesn't exist\n            sql = f'''\n                SHOW COLUMNS\n                FROM {student_lectures_table_name}\n                LIKE 'day{lecture_count}'\n            '''\n            result = db.session.execute(sql)\n            column_exists = result.fetchone()\n\n            if not column_exists:\n                sql = f'''\n                    ALTER TABLE {student_lectures_table_name}\n                    ADD day{lecture_count} INT NOT NULL DEFAULT 0\n                '''\n                db.session.execute(sql)\n\n\n    def is_lecture_attended(self, course):\n        return self.lecture_attendance.filter(lecture_attendance.c.course_id == course.id).count() > 0\n\n    @property\n    def password(self):\n        raise AttributeError('Sorry mate :|. Read only field')\n\n    @password.setter\n    def password(self, password):\n        self.password_hash = generate_password_hash(password)\n\n    def verify_password(self, password):\n        return check_password_hash(self.password_hash, password)\n\n    def __repr__(self):\n        return f'Lecturer(name={self.name}, email={self.email})'\n\n    def save(self):\n        db.session.add(self)\n        db.session.commit()", "answer": "{}"}