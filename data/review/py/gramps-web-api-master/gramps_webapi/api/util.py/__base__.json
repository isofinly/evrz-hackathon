{"embedding": [0.4398764967918396, -0.3986411988735199, -1.1101515293121338, 0.29017606377601624, 0.32958468794822693, -0.8962132930755615, -0.7792628407478333, 0.2660338282585144, -0.03364180773496628, -1.1991428136825562, -0.48190954327583313, -0.32418325543403625, 0.07640905678272247, 0.5446628332138062, 0.38808703422546387, 0.24068084359169006, -0.02496299147605896, -0.016745220869779587, 0.8105589747428894, -0.3298885226249695, -0.2763463258743286, 0.15329542756080627, 0.7537983655929565, 0.6202860474586487, -0.48370522260665894, 0.2385610044002533, 0.5550811886787415, -0.03910211846232414, 0.7273696064949036, 0.3286287784576416, 0.49026960134506226, -0.3835223615169525, 0.34736567735671997, -0.11921828240156174, -0.0836879312992096, -0.22204433381557465, 0.22572490572929382, -0.0462229922413826, -0.8711475729942322, -0.41056588292121887, -0.10933664441108704, 0.2585535943508148, 0.12430599331855774, -0.47517120838165283, 0.35852301120758057, 0.29678812623023987, -0.7778190970420837, 0.49269405007362366, 0.4383719861507416, 0.6039618849754333, -0.3786945044994354, 0.05753231793642044, -0.40466511249542236, 0.49848923087120056, 0.16953812539577484, 0.4894122779369354, -0.4810420572757721, 0.6052100658416748, 0.3881068527698517, -0.6295853853225708, 0.38093283772468567, 0.3672025501728058, 0.296469509601593, -0.0853562280535698, 0.6762166023254395, 0.014358427375555038, -0.5961106419563293, -0.1262783259153366, -0.07867765426635742, -0.0022247214801609516, 0.06015171855688095, -0.187931627035141, -0.09907285124063492, 0.15531757473945618, 0.07623948156833649, -0.004556588362902403, -0.23432332277297974, -0.4042520821094513, -0.03286590799689293, -0.23372243344783783, 0.8791820406913757, -0.39979973435401917, 0.2783401608467102, -0.02257389947772026, 1.230339765548706, 0.11028137058019638, 0.3546198904514313, 0.24430061876773834, -0.9762978553771973, -0.13972844183444977, -0.43757209181785583, -0.10234345495700836, 0.0980759710073471, 0.5670639872550964, -0.12005239725112915, -0.9409593939781189, -0.6632343530654907, 0.15851984918117523, -0.4183037579059601, -0.23227828741073608, -0.20278270542621613, 0.062347859144210815, -0.338077187538147, 0.02074170671403408, 0.01324171107262373, -0.5709484815597534, 0.030267728492617607, -0.49181032180786133, 0.21706600487232208, -0.5913837552070618, -1.253050684928894, -0.12072300165891647, -0.0817924216389656, -0.6632038950920105, -0.10782524943351746, 0.37879228591918945, -0.13589896261692047, 0.00700189545750618, 0.3196183145046234, -0.35919132828712463, 0.17165404558181763, -0.4040921628475189, -0.0276767797768116, 0.28323882818222046, 0.8924572467803955, 0.6415731906890869, -0.016233835369348526, -0.042837370187044144, 0.7095141410827637, -0.5238494873046875, -0.3226785361766815, 0.10108562558889389, -0.27880218625068665, 0.11225423216819763, 0.39454665780067444, -0.4233732223510742, -0.07191275805234909, -0.056338317692279816, 0.24253787100315094, 0.24911530315876007, -0.06136844679713249, -0.26523974537849426, -0.02237955667078495, -0.8206526041030884, 0.40543124079704285, -0.24183054268360138, 0.1481565684080124, -0.24274536967277527, -0.6805607080459595, -0.6359239220619202, 0.7120485901832581, -0.42692261934280396, -0.7271305322647095, 0.14567027986049652, -0.3324315547943115, 1.0389243364334106, -0.3151779770851135, -0.35454684495925903, -0.06387880444526672, -0.2304687350988388, -0.03043205477297306, -0.6034638285636902, -0.17556436359882355, -0.34746840596199036, 0.05564676970243454, -0.32210585474967957, 0.2597166895866394, 0.010542288422584534, -0.3182300329208374, 0.3456208109855652, -0.21556434035301208, 0.009759691543877125, -0.7770227789878845, -0.01351165771484375, 0.039698995649814606, 0.7468996644020081, 0.3494781255722046, 0.0004659734258893877, -0.3655141294002533, 0.12867283821105957, -0.3811187446117401, -0.7527328133583069, 0.10763491690158844, 0.207806795835495, 0.19130806624889374, 0.5420533418655396, 0.035525355488061905, 0.554399847984314, 0.9960477352142334, 0.3546123206615448, -0.5380773544311523, -0.2919082045555115, 0.050732553005218506, -0.1339990198612213, 0.13656136393547058, 0.2120734304189682, -0.10093522071838379, -0.11319176107645035, 0.024995487183332443, -0.36060580611228943, -0.40297168493270874, 0.1997028887271881, -0.13186989724636078, -0.7351639866828918, -0.2354302704334259, -0.44425544142723083, -0.18909713625907898, 0.05781647935509682, -0.0030527750495821238, -0.1080327108502388, -0.23312608897686005, 0.30839240550994873, -0.2465430200099945, 0.36875396966934204, 0.6247005462646484, -1.0369277000427246, 0.9238114953041077, 0.2744464874267578, 0.19604718685150146, 0.4590044915676117, 0.5287192463874817, -0.41965383291244507, -0.6628820300102234, -0.8735794425010681, -0.4545023739337921, 0.2887188792228699, 0.03627968952059746, 0.4054326117038727, 0.6024205684661865, -0.48229318857192993, 0.2414793074131012, -0.19850347936153412, 0.5286898612976074, 0.38329964876174927, 0.6412398219108582, -0.6321161389350891, -0.3688758313655853, 0.511862576007843, 0.030114851891994476, 0.10716383159160614, 0.2527199685573578, -0.14647260308265686, 0.166190966963768, 0.19799169898033142, 0.06996241956949234, -0.42251288890838623, 0.32270750403404236, -0.06351491808891296, -0.26721927523612976, -0.32815805077552795, 0.04476548731327057, -0.41350072622299194, -0.12823700904846191, -0.10557224601507187, -0.8097594380378723, -0.3580613434314728, -0.3089568614959717, 0.2607470154762268, 0.1376987099647522, -0.5110682845115662, 0.14506669342517853, -0.3419298529624939, -0.6769885420799255, 0.528063178062439, -0.17569175362586975, 0.22296585142612457, 0.1837584376335144, -0.31521254777908325, -0.21224315464496613, -0.037561286240816116, 0.4106167256832123, 1.100440263748169, -0.054551273584365845, -0.20338726043701172, -1.0759482383728027, -0.8320895433425903, 0.2184084951877594, 0.4283318519592285, -0.49740710854530334, -0.46919065713882446, -0.27338600158691406, -0.21832777559757233, 0.6416082978248596, 0.15560564398765564, -0.022845979779958725, -0.17729641497135162, -0.20469991862773895, 0.40326765179634094, -0.37813881039619446, 0.1351763755083084, -0.2898622155189514, 0.06920279562473297, -0.07883943617343903, -0.08763263374567032, 0.26705244183540344, 0.3763290047645569, -0.6084233522415161, 0.11447970569133759, 0.47836944460868835, -0.40550556778907776, 0.12843173742294312, 0.5789750814437866, 0.9438100457191467, -0.2614651024341583, -0.2475052922964096, -0.1261795312166214, 0.4077876806259155, -0.7459087371826172, 0.05055277422070503, 0.2085510641336441, 0.09038615971803665, -0.7110959887504578, 0.8869480490684509, 0.5953448414802551, 0.7229045629501343, -0.06165049597620964, -0.104835644364357, 0.6483607292175293, 0.31687623262405396, 0.8331144452095032, -0.26481011509895325, 0.6483018398284912, 1.0968468189239502, -0.053428102284669876, 0.9036637544631958, -0.5072687268257141, 0.4363575875759125, 0.4245191514492035, 0.22207537293434143, 0.4125172793865204, -0.7561080455780029, -0.10314912348985672, 0.17697636783123016, -0.09304539114236832, 0.00872852187603712, 0.1957075446844101, -0.21066710352897644, -1.0128355026245117, 0.0701230838894844, -0.6631385684013367, 0.3764818608760834, 0.08030256628990173, 0.24155469238758087, 0.5723740458488464, 0.15322567522525787, -0.8222007155418396, 0.49948471784591675, -0.32714927196502686, 0.019166480749845505, -0.2578732669353485, 0.20936661958694458, -0.12823037803173065, -0.30804330110549927, 0.8121099472045898, 0.5328887104988098, -1.150569200515747, -0.14531974494457245, -0.5762451887130737, 0.17475275695323944, 0.30918893218040466, -0.665359377861023, 0.049797266721725464, -0.034436631947755814, 0.3675574064254761, -0.19874519109725952, -0.31617048382759094, -0.051972728222608566, -0.4061679244041443, 0.6281338334083557, 0.08076097816228867, 0.16674287617206573, 0.03235531225800514, -0.2896801233291626, -0.10278796404600143, -0.48859819769859314, 0.08199822902679443, 0.13780425488948822, -0.006214732304215431, -1.3316622972488403, 0.49073782563209534, 0.06893870234489441, 0.517543613910675, 0.09157247096300125, 0.48294350504875183, 0.27504074573516846, -0.6374473571777344, 0.33302995562553406, 0.17139601707458496, -0.22798050940036774, -0.01535005122423172, 0.21698051691055298, -0.1732194572687149, 0.35164472460746765, -0.07104332000017166, -0.22729142010211945, -0.16411030292510986, 0.31278538703918457, 0.3889409005641937, 0.06089651212096214, -0.4434765577316284, 0.11359812319278717, -0.5458468198776245, 0.3507675528526306, 0.642923891544342, -0.0242898091673851, -0.2145051658153534, 0.7977076172828674, -0.07205341756343842, 0.018163714557886124, 0.7884171605110168, -0.22978031635284424, -0.2674110233783722, -0.4440339207649231, 0.07134924083948135, -0.41381555795669556, -0.19919328391551971, -0.5615547895431519, 0.1839142143726349, 0.42825278639793396, 0.6234554648399353, 0.006413164082914591, 0.3239162862300873, 0.6476648449897766, 0.17344675958156586, -0.7920448780059814, 0.017302170395851135, -0.059297822415828705, 0.16017493605613708, -1.1431031227111816, 0.41411861777305603, 0.24914595484733582, 0.09368670731782913, 0.23367060720920563, -0.5997744798660278, 0.41421207785606384, -0.10666535794734955, -0.18203380703926086, 0.1757112741470337, 0.23559528589248657, -0.06835908442735672, 0.6860981583595276, 0.2780522108078003, 0.7582639455795288, -0.5429131984710693, 0.9083804488182068, -0.350809246301651, -1.000709891319275, 0.17565205693244934, 0.8473702073097229, 0.426114946603775, -0.7953759431838989, -0.07173451036214828, 0.1969614177942276, 0.0018499952275305986, -0.7779449820518494, -0.25523126125335693, 0.34533485770225525, -0.15630653500556946, -0.3216312825679779, -0.13935045897960663, 0.018158849328756332, -0.34530922770500183, 0.4365595281124115, 0.7313427329063416, 0.41191381216049194, 0.18004515767097473, 0.27446192502975464, 0.4226715564727783, -0.461534708738327, 0.07859357446432114, -0.3807770907878876, 0.21708181500434875, -0.25196948647499084, -0.29712122678756714, 0.15040770173072815, 0.12664631009101868, 0.055822908878326416, 0.03690065070986748, 0.41785240173339844, -0.5061220526695251, 0.32050228118896484, -0.5754141807556152, 0.5997034907341003, 0.45598453283309937, -0.5340760350227356, -1.0511325597763062, 0.5496677756309509, -0.5954102277755737, 0.07128910720348358, -0.7782999277114868, -0.4004555940628052, -0.13122926652431488, 0.21784162521362305, 0.4456510543823242, 0.1272842288017273, 0.5010234117507935, -0.42927980422973633, -0.02490977756679058, 0.37385231256484985, -0.4738796353340149, 0.16169600188732147, 0.055766068398952484, -0.27701881527900696, 0.23570498824119568, 0.4446150064468384, -0.1908867210149765, -0.46423661708831787, -0.07256246358156204, -0.17956916987895966, -0.40688809752464294, -0.6217086911201477, -0.19262076914310455, -0.00015400353004224598, -0.18035872280597687, -0.6488082408905029, 0.49914535880088806, 0.2501360774040222, 0.14704710245132446, -0.13812796771526337, -0.06633152812719345, 0.42569780349731445, 0.3057536482810974, 0.0805002748966217, -0.18438974022865295, -0.020548369735479355, -0.3076920211315155, 0.3628367483615875, 0.056610144674777985, 0.14596889913082123, 0.7813995480537415, -0.05149850621819496, 0.39123058319091797, 0.6058264374732971, -0.5509699583053589, 0.32856225967407227, 0.07073859870433807, -0.2449316531419754, -0.9691197276115417, -0.02687150426208973, -0.3486350476741791, 0.22102418541908264, 0.3359284996986389, -0.28871220350265503, -0.8214280009269714, -0.6897825002670288, -0.13761796057224274, 0.2797132134437561, 0.35012513399124146, 0.2055356204509735, -0.7569955587387085, -0.03508028760552406, 0.334532767534256, 0.33075931668281555, -0.12420541048049927, -0.22048220038414001, -0.26251938939094543, 0.05444614216685295, 0.12300009280443192, 0.3698911964893341, -0.15535761415958405, -0.051578473299741745, -0.35047611594200134, -1.3976298570632935, 0.020267797634005547, -0.09524144977331161, 0.4435977339744568, 0.15733438730239868, 0.5864759683609009, 0.14195646345615387, 0.11738323420286179, -0.5271192193031311, 0.13445276021957397, 0.8626466989517212, -0.14886470139026642, -0.2693558633327484, -0.7274705171585083, -0.6434198021888733, 0.2611437439918518, 0.24247878789901733, -0.8018839955329895, 1.0855787992477417, 0.09206536412239075, -0.3084394037723541, -0.41273611783981323, 0.028805775567889214, 0.10842467099428177, 0.5344522595405579, 1.1130287647247314, 0.5213647484779358, 0.30710816383361816, -0.5553147792816162, 0.4646088182926178, 0.28108808398246765, -0.41601425409317017, 0.10375884175300598, 1.0517820119857788, -0.2725616693496704, 0.17492984235286713, -0.07974856346845627, 0.19923968613147736, -0.38390740752220154, 0.5521457195281982, 0.12433502823114395, -0.8960651755332947, 0.2511877119541168, -0.018795736134052277, -0.014967883937060833, 0.04161582142114639, 0.01838061772286892, 0.2816404700279236, -0.2771975100040436, -0.05521727353334427, 0.10364962369203568, 0.3636784851551056, -0.42677706480026245, -0.5097043514251709, -0.40367546677589417, 0.6949334740638733, 0.33588889241218567, -0.6286081075668335, -0.44225743412971497, 0.2291443943977356, -0.03358334302902222, 0.15099984407424927, -0.21331225335597992, 0.21546946465969086, 0.10131007432937622, -0.3070492446422577, -0.6153944730758667, -0.34469661116600037, -0.48344334959983826, -0.2806040048599243, 0.44121190905570984, 0.19149120151996613, 0.6565372943878174, 0.008829044178128242, 0.14839155972003937, -0.2924228012561798, -0.5828162431716919, 0.241504967212677, 0.3588813543319702, 0.12427570670843124, -0.30306071043014526, -0.22023673355579376, 0.005829575937241316, 0.3758399784564972, -0.24947819113731384, -0.5797477960586548, 0.4758204221725464, -0.013884642161428928, -0.4514562487602234, 0.6176894903182983, -0.02265564166009426, 0.014342877082526684, -0.8946064114570618, 0.8595728278160095, -0.8133600950241089, -0.4085454046726227, -0.4995257556438446, 0.04972227290272713, 0.15758641064167023, -0.41610589623451233, 0.6185187101364136, -0.37051108479499817, -0.7188931107521057, -0.05427238345146179, 0.21342042088508606, 0.0827847421169281, 0.58987957239151, 0.6730874180793762, 0.6428822875022888, -0.14150524139404297, 0.9351200461387634, -0.17477932572364807, 0.22463762760162354, -0.03298203647136688, 0.3853435814380646, 0.46164149045944214, 0.2757490873336792, 0.45100492238998413, -0.018224820494651794, 0.37465110421180725, -0.16939473152160645, 0.751298189163208, -0.0021948793437331915, 0.15717868506908417, 0.2294149547815323, 0.07118023931980133, 0.39733660221099854, 0.05830869823694229, 0.23836882412433624, 0.4206470847129822, -0.12954887747764587, 0.30004042387008667, -0.877800703048706, -0.38973015546798706, -0.3219129741191864, 0.11034958064556122, 0.13531599938869476, -0.18145963549613953, 0.21276454627513885, -0.3744726777076721, 0.4100492596626282, 0.3829764425754547, 0.20896440744400024, 0.09147366136312485, -0.6279796957969666, -0.3071739673614502, -0.3402053415775299, 0.18757721781730652, 0.4730474352836609, 0.38433998823165894, 0.9520583748817444, -0.0664529949426651, -0.06736233085393906, -0.35999980568885803, -0.16988609731197357, 0.5563992261886597, -0.5651702880859375, -0.22943051159381866, -0.3763602375984192, 0.17981445789337158, 0.9814527630805969, -0.44958698749542236, 0.9050495028495789, -0.2696314752101898, 0.1389092057943344, -0.5604613423347473, 0.09470324218273163, 0.407647043466568, 0.25094565749168396, -0.014899344183504581, -0.2746512293815613, 0.39470750093460083, 0.49717968702316284, -0.6655998229980469, 0.4228575825691223, -0.12424027919769287, -0.3259529769420624, 0.32690176367759705, -0.12744338810443878, -0.6430466175079346, -0.9570146799087524, -0.1895575374364853, -0.4277918338775635, 0.28131768107414246, 0.7008323073387146, -0.2520850896835327, -0.5939950942993164, -0.17215889692306519, 1.1242034435272217, -0.007081539835780859, -0.39053505659103394, 0.3887283504009247, -0.41323426365852356, 0.03810969367623329, 0.4106808304786682, 0.19176410138607025, -0.13315646350383759, -0.20039509236812592, 0.1685950607061386, 0.19290979206562042, -0.6114034652709961, 0.2163221836090088, 0.6108492612838745, 0.2891182601451874, -0.2765325903892517, 0.4945313334465027], "query": "#\n\n# Gramps Web API - A RESTful API for the Gramps genealogy program\n\n#\n\n# Copyright (C) 2020-2024      David Straub\n\n#\n\n# This program is free software; you can redistribute it and/or modify\n\n# it under the terms of the GNU Affero General Public License as published by\n\n# the Free Software Foundation; either version 3 of the License, or\n\n# (at your option) any later version.\n\n#\n\n# This program is distributed in the hope that it will be useful,\n\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\n# GNU Affero General Public License for more details.\n\n#\n\n# You should have received a copy of the GNU Affero General Public License\n\n# along with this program. If not, see <https://www.gnu.org/licenses/>.\n\n#\n\n\n\"\"\"Utility functions.\"\"\"\n\n\nimport hashlib\n\nimport io\n\nimport logging\n\nimport json\n\nimport os\n\nimport smtplib\n\nimport socket\n\nfrom email.message import EmailMessage\n\nfrom email.utils import make_msgid\n\nfrom http import HTTPStatus\n\nfrom typing import BinaryIO, List, Optional, Sequence, Tuple\n\n\nfrom celery import Task\n\nfrom flask import (\n\n    Response,\n\n    abort,\n\n    current_app,\n\n    g,\n\n    has_app_context,\n\n    jsonify,\n\n    make_response,\n\n    request,\n\n)\n\nfrom flask_jwt_extended import get_jwt, get_jwt_identity\n\nfrom gramps.cli.clidbman import NAME_FILE, CLIDbManager\n\nfrom gramps.gen.config import config\n\nfrom gramps.gen.const import GRAMPS_LOCALE\n\nfrom gramps.gen.db.base import DbReadBase\n\nfrom gramps.gen.db.dbconst import (\n\n    CITATION_KEY,\n\n    DBBACKEND,\n\n    EVENT_KEY,\n\n    FAMILY_KEY,\n\n    KEY_TO_NAME_MAP,\n\n    MEDIA_KEY,\n\n    NOTE_KEY,\n\n    PERSON_KEY,\n\n    PLACE_KEY,\n\n    REPOSITORY_KEY,\n\n    SOURCE_KEY,\n\n)\n\nfrom gramps.gen.db.exceptions import DbUpgradeRequiredError\n\nfrom gramps.gen.dbstate import DbState\n\nfrom gramps.gen.errors import HandleError\n\nfrom gramps.gen.proxy import PrivateProxyDb\n\nfrom gramps.gen.proxy.proxybase import ProxyDbBase\n\nfrom gramps.gen.proxy.private import sanitize_media\n\nfrom gramps.gen.user import UserBase\n\nfrom gramps.gen.utils.grampslocale import GrampsLocale\n\nfrom gramps.plugins.db.dbapi.dbapi import DBAPI\n\nfrom marshmallow import RAISE\n\nfrom webargs.flaskparser import FlaskParser\n\nfrom werkzeug.exceptions import HTTPException\n\nfrom werkzeug.security import safe_join\n\n\nfrom ..auth import config_get, get_tree, get_tree_usage, set_tree_usage\n\nfrom ..auth.const import PERM_VIEW_PRIVATE\n\nfrom ..const import (\n\n    DB_CONFIG_ALLOWED_KEYS,\n\n    LOCALE_MAP,\n\n    TREE_MULTI,\n\n    PRIMARY_GRAMPS_OBJECTS,\n\n)\n\nfrom ..dbmanager import WebDbManager\n\nfrom .auth import has_permissions\n\n\n\nclass Parser(FlaskParser):\n\n    # raise in case of unknown query arguments\n\n    <BODY Parser>\n\n\nparser = Parser()\n\nuse_args = parser.use_args\n\n\n\nclass ModifiedPrivateProxyDb(PrivateProxyDb):\n\n    <BODY ModifiedPrivateProxyDb>\n\n\nclass UserTaskProgress(UserBase):\n\n    <BODY UserTaskProgress>\n\n\ndef _sanitize_media_patched(db, media):\n\n    <BODY _sanitize_media_patched>\n\n\n# \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0442\u0442\u0435\u0440\u043d \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439, \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b \u043e\u043f\u0438\u0441\u0430\u0442\u044c \u0432 \u0441\u043b\u043e\u0435 \u044f\u0434\u0440\u0430 \u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0432 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f\u0445\ndef get_db_manager(tree: Optional[str]) -> WebDbManager:\n\n    <BODY get_db_manager>\n\n\ndef get_tree_from_jwt() -> Optional[str]:\n\n    <BODY get_tree_from_jwt>\n\n\ndef get_db_outside_request(\n\n    tree: str, view_private: bool, readonly: bool, user_id: str\n\n) -> DbReadBase:\n\n    <BODY get_db_outside_request>\n\n\ndef close_db(db_handle: DbReadBase) -> None:\n\n    <BODY close_db>\n\n\ndef get_db_handle(readonly: bool = True) -> DbReadBase:\n\n    <BODY get_db_handle>\n\n\ndef get_locale_for_language(language: str, default: bool = False) -> GrampsLocale:\n\n    <BODY get_locale_for_language>\n\n\ndef get_buffer_for_file(filename: str, delete=True, not_found=False) -> BinaryIO:\n\n    <BODY get_buffer_for_file>\n\n\ndef send_email(\n\n    subject: str, body: str, to: Sequence[str], from_email: Optional[str] = None\n\n) -> None:\n\n    <BODY send_email>\n\n\ndef make_cache_key_thumbnails(*args, **kwargs):\n\n    <BODY make_cache_key_thumbnails>\n\n\ndef get_config(key: str) -> Optional[str]:\n\n    <BODY get_config>\n\n\ndef list_trees() -> List[Tuple[str, str]]:\n\n    <BODY list_trees>\n\n\ndef get_tree_id(guid: str) -> str:\n\n    <BODY get_tree_id>\n\n\ndef tree_exists(tree_id: str) -> bool:\n\n    <BODY tree_exists>\n\n\ndef update_usage_people(\n\n    tree: Optional[str] = None, user_id: Optional[str] = None\n\n) -> int:\n\n    <BODY update_usage_people>\n\n\ndef check_quota_people(\n\n    to_add: int, tree: Optional[str] = None, user_id: Optional[str] = None\n\n) -> None:\n\n    <BODY check_quota_people>\n\n\ndef update_usage_ai(new: int, tree: Optional[str] = None) -> int:\n\n    <BODY update_usage_ai>\n\n\ndef check_quota_ai(requested: int, tree: Optional[str] = None) -> None:\n\n    <BODY check_quota_ai>\n\n\ndef abort_with_message(status: int, message: str):\n\n    <BODY abort_with_message>\n\n\ndef upgrade_gramps_database(\n\n    tree: str, user_id: str, task: Optional[Task] = None\n\n) -> None:\n\n    <BODY upgrade_gramps_database>\n\n\ndef get_total_number_of_objects(db_handle: DbReadBase):\n\n    <BODY get_total_number_of_objects>\n\n\ndef get_object_timestamps(db_handle: DbReadBase):\n\n    <BODY get_object_timestamps>\n\n\ndef get_logger() -> logging.Logger:\n\n    <BODY get_logger>", "answer": "{}"}