{"embedding": [0.1533735692501068, -0.8625719547271729, -1.4897381067276, 0.2790009379386902, -0.19656480848789215, -0.44122305512428284, -0.2970545291900635, 0.5269555449485779, -0.2841625511646271, 0.08849208056926727, 0.6634393930435181, -0.015149541199207306, 0.19158871471881866, 0.7343772649765015, -0.10443651676177979, 0.26656538248062134, 0.17594191431999207, 0.08878959715366364, 0.25129079818725586, 0.0184340663254261, -0.34214890003204346, 0.11267929524183273, 0.22984139621257782, 0.1759149730205536, 0.03034103475511074, 0.39343884587287903, 0.6375155448913574, -0.07584248483181, 0.19027981162071228, -0.310040146112442, 0.14252591133117676, -0.6251698136329651, 0.607236385345459, 0.24644435942173004, -0.385241836309433, 0.12245481461286545, 0.47704073786735535, 0.33378246426582336, -0.966719925403595, -0.021880723536014557, -0.754070520401001, -0.10207686573266983, 0.24466970562934875, -0.5950783491134644, 0.14750541746616364, 0.34344515204429626, -1.1897743940353394, -0.6023669838905334, -0.33844658732414246, 0.03058711439371109, -0.6340875625610352, -0.05792425572872162, 0.09782753139734268, 0.49483856558799744, 0.34604835510253906, 1.1156202554702759, 0.006293857004493475, 0.5813718438148499, -0.004985481034964323, -0.7076274752616882, 0.19876080751419067, -0.26863372325897217, 0.5618725419044495, -0.6202160120010376, 0.5762363076210022, -0.24238243699073792, -0.4120919108390808, -0.11703849583864212, -0.600421667098999, 0.3493802845478058, -0.48311376571655273, 0.056876808404922485, 0.20904476940631866, 0.08332769572734833, -0.2881464660167694, -0.053041666746139526, -0.04041081666946411, -0.18994201719760895, 0.5810536742210388, -0.24569916725158691, 0.9934864044189453, 0.10485698282718658, 0.0698401927947998, -0.09667431563138962, 1.318830966949463, -0.24270789325237274, 0.6588062644004822, -0.2292710542678833, -0.3314606845378876, 0.5726960301399231, -0.37422433495521545, 0.018246810883283615, 0.30292659997940063, -0.27399787306785583, 0.11322242766618729, 0.13072723150253296, -0.5099771618843079, -0.3958316147327423, -0.1246291920542717, -0.6555747389793396, -0.8787663578987122, 0.35708558559417725, -0.043384455144405365, 0.05613265559077263, 0.4528963565826416, 0.06192399933934212, 0.3016304671764374, -0.3715125322341919, -0.004139136988669634, -0.25757768750190735, -0.04629116505384445, -0.6610442399978638, -0.47700029611587524, -0.35974082350730896, 0.045436155050992966, -0.25013700127601624, -0.3378618359565735, -0.3606109023094177, -0.013547115959227085, -0.3893372714519501, -0.41392478346824646, -0.7894034385681152, -0.21489311754703522, -0.0055011725053191185, 0.6402758359909058, -0.12807273864746094, 0.6356166005134583, 0.4665549397468567, -0.2869720757007599, 0.07844217866659164, -1.1749743223190308, 0.683529257774353, -0.738490641117096, 0.7094470858573914, 0.04512571543455124, -0.669963538646698, 0.022507067769765854, 0.11303725838661194, 0.06509946286678314, 0.3122991919517517, -0.19357718527317047, 0.012410923838615417, -0.25161170959472656, 0.07702361047267914, -0.216164693236351, 0.06494953483343124, 0.9453481435775757, -0.6402630805969238, -0.31512829661369324, -0.13857631385326385, 0.17447873950004578, 0.09006055444478989, -0.15645836293697357, 0.3071056306362152, 0.691687822341919, -0.4148519039154053, 0.10393671691417694, -0.14458318054676056, 0.11285427212715149, 0.5993198752403259, -0.05401749536395073, -0.08052607625722885, -0.46343207359313965, -0.959010660648346, -0.2850850522518158, -0.21090887486934662, 0.3272218108177185, 0.8189221620559692, 0.49987491965293884, 0.6515718102455139, 0.44880542159080505, -0.42542481422424316, -0.7184373736381531, -0.2691878378391266, 0.5528236031532288, 1.2127692699432373, 0.07002067565917969, 0.41885605454444885, 0.15665318071842194, 0.03312979266047478, -0.43741199374198914, -0.5405676364898682, -0.07337160408496857, 0.09795896708965302, -0.048424024134874344, 0.9178866744041443, 0.23510469496250153, 0.11005298048257828, 0.25335806608200073, -0.6506969332695007, -0.41649293899536133, 0.1388445496559143, 0.2180398404598236, 0.2398798167705536, 0.5732384324073792, -0.2477128952741623, 0.4738689064979553, -0.16343511641025543, 0.20278337597846985, -0.05802175775170326, -0.737501323223114, 0.5520186424255371, -0.2727659344673157, -0.4991404712200165, -0.661756157875061, 0.12307503074407578, -0.18136131763458252, 0.7332638502120972, -1.0260090827941895, 0.1656821221113205, -0.2883273661136627, 0.42411231994628906, -0.012949247844517231, 0.1826181411743164, 0.5896012783050537, -0.720815896987915, 0.28680071234703064, 0.6190147399902344, -0.3962337076663971, 0.35932132601737976, 0.09546978026628494, -0.38994136452674866, -1.0035490989685059, -0.3066856563091278, 0.02154592238366604, 0.3892183303833008, 0.2768661379814148, 0.48050928115844727, 0.4092397093772888, -0.6188369393348694, 0.16595585644245148, -0.3258286118507385, 0.1869582235813141, 0.8393654227256775, -0.050864916294813156, 0.1611005812883377, 0.07176381349563599, 0.36706894636154175, -0.3250187933444977, -0.15732745826244354, -0.002421987010166049, -0.897307813167572, -0.08379022777080536, 0.4960285723209381, -0.02250489592552185, -0.8109999299049377, 0.039975352585315704, 0.5532165169715881, -0.27564531564712524, 0.028294306248426437, 0.4789220988750458, -0.3886195719242096, -0.2683138847351074, 0.043498795479536057, -0.2867022752761841, -0.3888743817806244, -1.002411961555481, -0.4914689064025879, 0.8803677558898926, -0.2501838207244873, 0.22093576192855835, -0.7952831983566284, -0.07541333884000778, 0.3756512999534607, -0.41365042328834534, -0.22378450632095337, -0.08673741668462753, 0.2107982039451599, -0.6767756342887878, 0.3908058702945709, 0.9896234273910522, 0.47519922256469727, -0.7944192886352539, -0.11915980279445648, 0.2109091728925705, -0.30873191356658936, 0.16504225134849548, 0.8186221718788147, 0.5932067632675171, -0.24266530573368073, 0.7112094163894653, -0.20991162955760956, 0.19501695036888123, -0.10230224579572678, 0.48355454206466675, -0.06904508173465729, 0.23045095801353455, 0.5423324108123779, 0.28693151473999023, -0.7361248135566711, -0.08620641380548477, 0.7463991045951843, -0.6250919103622437, -0.37757211923599243, -0.16955780982971191, 0.5850757360458374, -0.8583754897117615, -0.6243690252304077, 0.2874569594860077, -1.2176060676574707, -0.19132369756698608, 0.2163931131362915, 0.9707852602005005, -0.168892040848732, -0.9256247282028198, 0.05317806452512741, 0.037562791258096695, -0.7943210005760193, 0.04208502918481827, -0.045683976262807846, 0.40447041392326355, -0.586275041103363, 0.45847320556640625, 0.5650185942649841, 0.5631600618362427, -0.0003784549480769783, 0.8622300624847412, 0.6367635726928711, 0.07109183818101883, 0.7657668590545654, 0.19169078767299652, 0.6473525166511536, 0.3724810779094696, 0.3490028381347656, 0.7549504637718201, -0.7153399586677551, 0.33206841349601746, 0.41158807277679443, 0.4778662621974945, 0.6039931774139404, -1.116542935371399, 0.8730648159980774, 0.12267245352268219, 0.4665696620941162, -0.07559160888195038, 0.06975265592336655, -0.40736183524131775, -0.38097652792930603, 0.14128954708576202, -0.8323097825050354, -0.19716967642307281, -0.05883793160319328, 0.15825943648815155, 0.3628373444080353, 0.35992687940597534, -0.3112201690673828, 0.11430906504392624, -0.7667742967605591, 0.10888286679983139, -0.6489396095275879, 0.6462609171867371, -0.01648717373609543, -0.5600689649581909, 0.4760449230670929, 0.10676932334899902, -0.4397609531879425, -0.396380752325058, -0.8635582327842712, 0.3579656779766083, 0.34052523970603943, 0.3405837118625641, 0.7199722528457642, -0.5145290493965149, 0.02901494689285755, 0.23416849970817566, -0.2395709902048111, 0.5032168030738831, -0.3687172532081604, 0.2168971598148346, 0.4874545633792877, 0.32554736733436584, 0.18715336918830872, -1.1317787170410156, -0.833682119846344, -0.14049677550792694, 0.3949660360813141, 0.8110469579696655, 0.003909962251782417, -0.6882897615432739, 0.37587448954582214, 0.2235921323299408, 0.9895423650741577, -0.750834047794342, 0.35161396861076355, 0.571082353591919, -0.4198106825351715, -0.29202333092689514, 0.3481880724430084, -0.1899770051240921, -0.2281763255596161, -0.17243480682373047, -0.40230321884155273, 0.9391741752624512, -0.5056019425392151, 0.5910817980766296, -0.7617791891098022, -0.16636474430561066, 1.0772161483764648, 0.1318635642528534, 0.37615469098091125, 0.046081725507974625, -0.2266005575656891, -0.6674825549125671, 0.7798431515693665, 0.14321914315223694, -0.16810917854309082, 0.5145133137702942, 0.19004039466381073, 0.2930031716823578, 0.3783722221851349, 0.7152786254882812, -0.9225158095359802, -0.9966383576393127, 0.08246519416570663, -0.0197687279433012, 0.3098505139350891, -0.5832383036613464, -0.5422013401985168, -0.14163261651992798, 0.41427916288375854, 0.043582331389188766, 1.0129834413528442, 0.46030494570732117, 0.7728680372238159, -1.1813807487487793, -0.11005766689777374, 0.10635381937026978, 0.4162246882915497, -0.8569520711898804, 0.2353396862745285, -0.09307347983121872, 0.40489766001701355, -0.21103845536708832, -0.5874525904655457, -0.10600817948579788, -0.07295527309179306, -0.6496562957763672, 0.419535756111145, 0.32801008224487305, 0.34892043471336365, 0.6293983459472656, -0.23302027583122253, 0.1709253042936325, 0.2295393943786621, 0.5540232062339783, 0.018211860209703445, -1.1237142086029053, 0.5404435992240906, -0.08450096845626831, 0.11363454163074493, -0.4359649121761322, 0.015115983784198761, -0.09243135899305344, -0.09227100014686584, 0.00015532322868239135, -0.4388481080532074, -0.378989577293396, -0.6415108442306519, -0.14487454295158386, -0.7487640380859375, 0.27006450295448303, 0.28701919317245483, 0.401679128408432, 0.02912905625998974, -0.12868450582027435, 0.05766403675079346, 0.8641611933708191, 0.356052964925766, -0.6163264513015747, -0.1801454722881317, 0.6436879634857178, -0.01607327349483967, -0.07632750272750854, -0.08243940770626068, 0.6917085647583008, 0.24174602329730988, -0.19997729361057281, 0.6570151448249817, 0.5237439274787903, -0.5207497477531433, 0.21614506840705872, -0.907023549079895, -0.08367214351892471, -0.23246154189109802, -0.4735397398471832, -0.37661129236221313, 0.1739163100719452, 0.010078953579068184, 0.34058767557144165, -0.508756160736084, -0.2710895538330078, 0.17746968567371368, -0.8216615319252014, 0.44922658801078796, -0.25153839588165283, -0.07072115689516068, -0.14642196893692017, -0.07499268651008606, -0.24918818473815918, -0.6937784552574158, 0.03848343715071678, -0.3989908695220947, -0.49388018250465393, -0.33196452260017395, 0.8595121502876282, 0.15121416747570038, 0.23740333318710327, -0.579066812992096, -0.4637383222579956, -0.11629166454076767, -0.5761532783508301, -0.1614799201488495, -0.2022779881954193, 0.2598249614238739, -0.4057281017303467, 0.1617162823677063, 0.062317293137311935, 0.16976076364517212, -0.11131292581558228, -0.5749511122703552, -0.0033299627248197794, -0.11395227909088135, 0.3182278275489807, -0.2617168426513672, -0.22663342952728271, 0.10357291996479034, 0.11056507378816605, -0.07411343604326248, 0.22233714163303375, 0.03134474530816078, -0.31905871629714966, 0.21087932586669922, 0.28787466883659363, -0.667144775390625, -0.030925234779715538, 0.2907160520553589, 0.19209080934524536, -0.8792524337768555, 0.5073791742324829, -0.3068135678768158, -0.08619038015604019, 0.5133572816848755, -0.8211557865142822, 0.19344256818294525, 0.1458391398191452, -0.28480467200279236, 0.101285919547081, 0.2471434772014618, 1.116028904914856, -0.7702380418777466, -0.032013311982154846, 0.2020207643508911, 0.281288206577301, 0.056426648050546646, -0.49610060453414917, 0.7130625247955322, 0.3556064963340759, -0.6423121690750122, -0.26916372776031494, -0.24672763049602509, -0.5207840800285339, -0.4545845687389374, -0.5096662640571594, -0.33392515778541565, -1.0773112773895264, 0.44325685501098633, 0.3001295328140259, 0.7694420218467712, 0.06822873651981354, -0.894719660282135, 0.09891067445278168, 0.614536464214325, 0.40025535225868225, -0.6503024697303772, -0.005081662442535162, -0.4011398255825043, 0.09627120196819305, 0.12354712933301926, 0.47652414441108704, -0.5253406763076782, 0.7992337346076965, -0.4884014427661896, 0.30651533603668213, -0.6856907606124878, -0.10847502946853638, -0.04266670346260071, 0.5269253849983215, 0.4291808605194092, -0.06354571133852005, 0.5213340520858765, -0.3380891680717468, 0.09754274040460587, 0.08184612542390823, -0.6356083750724792, -0.520600438117981, 0.6698110103607178, 0.004597938619554043, -0.15908776223659515, -0.22643175721168518, -0.06695808470249176, 0.15691912174224854, 0.09147867560386658, -0.5131196975708008, -0.3237207531929016, -0.017271773889660835, 0.1862148940563202, -0.02130180411040783, 0.5847224593162537, 0.20820684731006622, -0.05070227384567261, -0.4069986939430237, 0.41273534297943115, -0.10147027671337128, 0.20603129267692566, 0.04398630931973457, 0.5332643985748291, -0.6146466135978699, 0.9050189852714539, 0.5118054151535034, 0.843616247177124, -0.5722112655639648, -0.11498422920703888, -0.2926165461540222, 0.1775377094745636, 0.32123592495918274, -0.5173224210739136, 0.2990931272506714, -0.2540988624095917, -0.10057410597801208, -0.1826392561197281, 0.02061278559267521, -0.13385386765003204, 1.081061601638794, -0.07141970843076706, 0.744865357875824, 0.332301527261734, 0.1178705245256424, 0.20006410777568817, -0.5545825362205505, 0.5413724184036255, 0.3852788209915161, -0.5775002241134644, -0.20022346079349518, 0.18574179708957672, 0.29288867115974426, 0.6228451132774353, 0.20783689618110657, -0.18943911790847778, 0.5299211144447327, -0.2801605761051178, 0.1282520592212677, 0.5106831192970276, 0.06387228518724442, 0.039248593151569366, -0.29322561621665955, 0.44935598969459534, -0.15447667241096497, -0.5559258460998535, -0.6441580057144165, -0.045138899236917496, 0.19925639033317566, -0.3726668953895569, 0.5839399099349976, 0.8200488686561584, -0.39492082595825195, -0.17606864869594574, 0.08312264829874039, -0.4388611316680908, 0.42423391342163086, 0.34193190932273865, 0.21213430166244507, 0.014086165465414524, -0.004985802806913853, -0.39807724952697754, 0.12076453119516373, 0.4306238889694214, 0.515853762626648, -0.007935645990073681, -0.019656090065836906, 0.6107099056243896, -0.5349549651145935, 0.44851040840148926, -0.43624192476272583, 0.430585116147995, 0.3663100302219391, 0.05759354680776596, 0.15008799731731415, -0.3085130751132965, -0.20674122869968414, 0.15010865032672882, -0.09250178188085556, 0.6779180765151978, 0.45663103461265564, -0.48656442761421204, -0.5106064677238464, -0.4258107542991638, -0.32175371050834656, 0.09372837841510773, 0.15954644978046417, -0.8405546545982361, -0.18167971074581146, -0.6633819341659546, -0.07685880362987518, 0.08039025962352753, -0.2869880795478821, 0.21704621613025665, -0.3683353364467621, 0.004993998911231756, 0.19853216409683228, -0.24318958818912506, 0.004333836026489735, -0.04978511482477188, 0.5762268304824829, -0.07618391513824463, -0.08031440526247025, 0.54314786195755, -0.4702253043651581, 0.37818771600723267, -0.02053641714155674, -0.3357173204421997, 0.18953000009059906, 0.4621695280075073, 1.0141061544418335, -0.04605969041585922, -0.026003878563642502, -0.7344791889190674, 0.1455809324979782, -0.43677762150764465, 0.3898986279964447, 0.009477333165705204, 0.7400019764900208, 0.09181448817253113, -0.8123083710670471, 0.2396908849477768, -0.10767927765846252, -0.8133608102798462, 0.5552986860275269, -0.4439300298690796, -0.2762519419193268, -0.40612438321113586, 0.3935634195804596, -0.8630074858665466, -1.1594911813735962, -0.4201821982860565, 0.2489003986120224, 0.015081181190907955, 0.6987473964691162, -0.3953331708908081, -0.5225194096565247, 0.501251220703125, 0.9873825311660767, -0.4567057192325592, -0.2833693027496338, 0.6798486709594727, 0.35819104313850403, -0.4548628032207489, 0.4154760241508484, -0.06433028727769852, 0.07376626878976822, -0.3636110723018646, -0.5378583073616028, 0.4384128749370575, 0.0923200249671936, -0.36060354113578796, 0.20216816663742065, 0.9416394829750061, -0.8489329814910889, 0.5464439392089844], "query": "#\n\n# Gramps Web API - A RESTful API for the Gramps genealogy program\n\n#\n\n# Copyright (C) 2020      David Straub\n\n#\n\n# This program is free software; you can redistribute it and/or modify\n\n# it under the terms of the GNU Affero General Public License as published by\n\n# the Free Software Foundation; either version 3 of the License, or\n\n# (at your option) any later version.\n\n#\n\n# This program is distributed in the hope that it will be useful,\n\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\n# GNU Affero General Public License for more details.\n\n#\n\n# You should have received a copy of the GNU Affero General Public License\n\n# along with this program. If not, see <https://www.gnu.org/licenses/>.\n\n#\n\n\n\"\"\"Image utilities.\"\"\"\n\n\nfrom __future__ import annotations\n\n\nimport io\n\nimport os\n\nimport shutil\n\nimport tempfile\n\nfrom pathlib import Path\n\nfrom typing import BinaryIO, Callable\n\n\nimport ffmpeg\n\nfrom pdf2image import convert_from_path\n\nfrom PIL import Image, ImageOps\n\nfrom pkg_resources import resource_filename\n\n\nfrom gramps_webapi.const import MIME_PDF\n\nfrom gramps_webapi.types import FilenameOrPath\n\n\nfrom .util import abort_with_message\n\n\n\ndef image_thumbnail(image: Image, size: int, square: bool = False) -> Image:\n\n    <BODY image_thumbnail>\n\n\ndef image_square(image: Image) -> Image:\n\n    <BODY image_square>\n\n\ndef crop_image(image: Image, x1: int, y1: int, x2: int, y2: int) -> Image:\n\n    <BODY crop_image>\n\n\ndef save_image_buffer(image: Image, fmt=\"JPEG\") -> BinaryIO:\n\n    <BODY save_image_buffer>\n\n\nclass ThumbnailHandler:\n\n    <BODY ThumbnailHandler>\n\n\nclass LocalFileThumbnailHandler(ThumbnailHandler):\n\n    <BODY LocalFileThumbnailHandler>\n\n\ndef detect_faces(stream: BinaryIO) -> list[tuple[float, float, float, float]]:\n\n    <BODY detect_faces>", "answer": "{}"}