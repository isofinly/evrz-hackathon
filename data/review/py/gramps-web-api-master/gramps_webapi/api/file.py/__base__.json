{"embedding": [0.1958940625190735, -0.9095699787139893, -1.344916820526123, 0.6028063297271729, 0.34889116883277893, -0.6569535136222839, -0.17590664327144623, 0.6184031963348389, -0.05263461172580719, 0.005746548064053059, 0.2547069787979126, -0.24540987610816956, -0.07764007896184921, 0.19250868260860443, 0.3424542546272278, 0.22872129082679749, 0.08316674083471298, -0.1391950100660324, 0.12400850653648376, -0.10187335312366486, -0.277476966381073, -0.12833349406719208, 0.21135562658309937, 0.5192059874534607, -0.051218073815107346, 0.1615334004163742, 0.4432477653026581, -0.11311913281679153, 0.7345092296600342, -0.5653084516525269, 0.44737085700035095, -0.601279616355896, 0.6462566256523132, 0.3302862048149109, -0.31293028593063354, -0.23909465968608856, 0.19052909314632416, 0.03528015688061714, -0.9580456614494324, -0.07998556643724442, -0.8248190879821777, 0.4703981280326843, 0.03934476524591446, -0.49897581338882446, 0.16744224727153778, 0.8019617199897766, -1.0527987480163574, -0.36543703079223633, 0.16612225770950317, 0.2180720865726471, -0.695952832698822, 0.19854208827018738, -0.5233050584793091, 0.1901329755783081, 0.736213743686676, 0.790925920009613, -0.07166321575641632, 0.061187487095594406, -0.4055529832839966, -0.9569607377052307, 0.4273321032524109, -0.1915748119354248, 1.0263473987579346, -0.5412381887435913, 0.6627599596977234, 0.12857599556446075, -0.4649062752723694, 0.02855285443365574, -0.22764484584331512, 0.2302175611257553, -0.28899508714675903, -0.43192943930625916, 0.034772131592035294, 0.1474960595369339, -0.20066873729228973, 0.20188629627227783, 0.4257373809814453, -0.25869810581207275, 0.7239583134651184, -0.041437406092882156, 0.8322595953941345, -0.4720556437969208, 0.2297818511724472, 0.10494425892829895, 0.9416770935058594, -0.4449777603149414, 0.7549587488174438, -0.50794517993927, -0.9104911684989929, 0.860946774482727, -0.31708335876464844, 0.27259281277656555, -0.08097051084041595, -0.24980957806110382, 0.09805484861135483, -0.30436092615127563, -0.49053335189819336, -0.23200416564941406, -0.24020421504974365, -0.39101842045783997, -0.8512189388275146, 1.1229349374771118, 0.1673036515712738, 0.14294657111167908, 0.2839401960372925, -0.5165190696716309, 0.27679893374443054, -0.39153018593788147, -0.07341863960027695, -0.015203411690890789, -0.5719959735870361, -0.8780258893966675, -0.38640958070755005, -0.08379389345645905, -0.07101722061634064, -0.47805625200271606, 0.014836943708360195, -0.07044092565774918, 0.09537152200937271, -0.45953378081321716, 0.05854066461324692, -0.9920789003372192, -0.11472226679325104, 0.1862718015909195, 0.8113052845001221, 0.029200641438364983, 0.5894966125488281, -0.16749359667301178, 0.052993517369031906, 0.09114845842123032, -1.0785819292068481, 0.8605416417121887, -0.2239798903465271, 0.5632256269454956, -0.2239503264427185, -0.10609184950590134, -0.09894613176584244, -0.05628236383199692, 0.5507262349128723, 0.3567363917827606, 0.4377134442329407, -0.13972219824790955, -0.4098358452320099, -0.4552724361419678, -0.055943556129932404, -0.04972485080361366, 0.4158405661582947, -0.6955935955047607, -0.3557913303375244, 0.20111779868602753, 0.15388289093971252, -0.15992659330368042, -0.2580070495605469, 0.5004509091377258, 0.3769402503967285, 0.1209651529788971, 0.08776266127824783, 0.10609383881092072, -0.31535449624061584, 0.4399011433124542, -0.001748090609908104, -0.3719484806060791, 0.027970898896455765, -0.5770682096481323, -0.040894441306591034, -0.2905707359313965, 0.07659736275672913, 0.8177006244659424, 0.38056397438049316, 0.3687402307987213, 0.2366618663072586, 0.12862204015254974, -0.623005211353302, -0.14892230927944183, 0.7814086675643921, 0.7141044735908508, 0.3835581839084625, 0.16027045249938965, 0.4858910143375397, 0.07475573569536209, -0.23704084753990173, -0.9724909663200378, 0.11512505263090134, 0.44052839279174805, 0.47190380096435547, 0.7498030662536621, -0.23497237265110016, 0.2838693857192993, 0.21169154345989227, -0.21006615459918976, -0.3530289828777313, -0.02756294049322605, -0.04044495150446892, 0.01179467886686325, 0.8119585514068604, 0.24380818009376526, 0.6355776190757751, -0.32064446806907654, -0.19000230729579926, -0.31354615092277527, -1.0107417106628418, 0.08721143007278442, -0.049452219158411026, -0.5604361891746521, -0.7854831218719482, 0.38355550169944763, 0.3335138261318207, 0.2964479327201843, -0.9074881076812744, 0.5366889834403992, -0.5465653538703918, 0.3500308394432068, -0.18836960196495056, 0.4277195632457733, 0.7524945139884949, -0.975564181804657, 0.09125537425279617, 0.5948379039764404, -0.404983252286911, 0.24079948663711548, 0.13260209560394287, -0.042044125497341156, -0.9939479231834412, -0.4224141538143158, -0.12394755333662033, 0.3252606987953186, 0.041869908571243286, 0.426862508058548, 0.043765801936388016, -0.02964898571372032, -0.09258458763360977, -0.36411044001579285, 0.48750734329223633, 0.9260780215263367, 0.07804864645004272, -0.05143209546804428, 0.11532530933618546, 0.20011775195598602, -0.0795370563864708, -0.20851008594036102, 0.23695506155490875, -0.6695100665092468, -0.4286229908466339, 0.20510588586330414, -0.26500725746154785, -1.0153353214263916, 0.20782072842121124, 0.410701185464859, -0.15887676179409027, -0.26219162344932556, 1.0541201829910278, -0.24069525301456451, -0.25190848112106323, 0.31999051570892334, -0.38576212525367737, -0.2618069052696228, -0.6848792433738708, -0.0035606962628662586, 0.6141994595527649, -0.3347625136375427, 0.169599249958992, -0.4009246826171875, 0.4126614034175873, 0.45727038383483887, -0.28927937150001526, -0.3525004982948303, -0.1423555463552475, 0.04049073904752731, -0.2504732608795166, 0.13446876406669617, 0.7407711744308472, 1.1502265930175781, -0.7388396859169006, -0.4926644265651703, -0.021098628640174866, -0.43434518575668335, 0.14811471104621887, 0.8393369317054749, 0.1424727588891983, 0.00854975264519453, 0.07692043483257294, -0.21793068945407867, 0.5333046317100525, -0.09636788815259933, 0.721520185470581, 0.3340522050857544, -0.2031858116388321, 0.11595506221055984, 0.1624181568622589, -0.6590514779090881, -0.0664084255695343, 0.6240965127944946, -0.6407617330551147, -0.3056872487068176, -0.05837041512131691, 0.16604375839233398, -1.1222546100616455, -0.5442420244216919, 0.6336742043495178, -1.2443991899490356, -0.26015979051589966, 0.19684244692325592, 1.0796196460723877, -0.32810571789741516, -1.269089937210083, -0.21159279346466064, 0.29531732201576233, -0.8552801609039307, -0.0631461814045906, 0.10521416366100311, 0.5993110537528992, -0.622801661491394, 0.5032362341880798, 0.41138410568237305, 0.6528975963592529, 0.2184230238199234, 0.7377387881278992, 1.0173594951629639, 0.0650758147239685, 0.4489487111568451, 0.24301594495773315, 0.8527438640594482, 0.5983514785766602, 0.19647936522960663, 1.0758620500564575, -0.6918693780899048, 0.7158541083335876, 0.14298391342163086, 0.2134239375591278, 0.7005326151847839, -0.5034509301185608, 0.5944529175758362, 0.029730042442679405, 0.011063908226788044, -0.03381051868200302, -0.006389576476067305, -0.4559735953807831, -0.5232583284378052, 0.2120916247367859, -0.9835654497146606, 0.06687726080417633, -0.3887092173099518, 0.3926610052585602, 0.2270229160785675, 0.23941361904144287, -0.18062950670719147, 0.6154801249504089, -0.6156127452850342, -0.2335648089647293, -0.39808332920074463, 0.5389814972877502, -0.6506832242012024, -0.4348810613155365, 0.11624854803085327, -0.07835639268159866, -0.8570728898048401, -0.4345235824584961, -0.5907853841781616, 0.20905759930610657, 0.2368716597557068, -0.06471981853246689, 0.5193915367126465, -0.7005490064620972, 0.10205712169408798, 0.1407102793455124, -0.3930104970932007, 0.3723571002483368, 0.02924773469567299, 0.067701056599617, 0.6207075119018555, 0.5777624845504761, 0.3016209304332733, -1.111966609954834, -0.6685633063316345, -0.044567741453647614, 0.08747412264347076, 0.544420063495636, -0.3621186316013336, -0.6455368399620056, 0.44407910108566284, 0.22675640881061554, 1.0353790521621704, -0.5536672472953796, 0.3166048228740692, 0.5827451348304749, -0.6394957900047302, 0.08269263058900833, 0.10261835157871246, -0.27516525983810425, -0.06595844775438309, -0.0745544359087944, -0.49704599380493164, 0.9593103528022766, -0.10058782994747162, 0.43439510464668274, -0.5421299338340759, 0.07938782125711441, 0.7945908308029175, 0.33473333716392517, 0.8241041302680969, -0.09067048877477646, -0.33215823769569397, -0.8221333622932434, 0.7571325898170471, 0.09446155279874802, -0.06961128115653992, 0.5680219531059265, 0.17036445438861847, 0.492782324552536, 0.6166633367538452, 0.4012877345085144, -0.20882833003997803, -0.5252323746681213, 0.022223470732569695, -0.19919338822364807, 0.5063475370407104, -0.9569372534751892, -0.16651256382465363, -0.15732304751873016, 0.42367279529571533, 0.004553197883069515, 0.8595646023750305, 0.39593204855918884, 0.4655579924583435, -1.0310624837875366, -0.00048394364421255887, 0.1913231611251831, 0.060168348252773285, -1.1032804250717163, 0.29624757170677185, -0.17273066937923431, 0.49701422452926636, -0.32045257091522217, -0.6347789764404297, 0.07042548060417175, -0.30000054836273193, -0.780278742313385, 0.078437440097332, 0.038224957883358, 0.10560227930545807, 0.017747657373547554, -0.2274840921163559, 0.15881574153900146, 0.20714809000492096, 1.0858945846557617, -0.18092352151870728, -1.0988906621932983, 0.3875179588794708, 0.4348182678222656, -0.10943522304296494, -1.1574381589889526, -0.37867945432662964, -0.008103722706437111, 0.09947174787521362, -0.4044675827026367, -0.13368460536003113, -0.2063288688659668, -0.4340585172176361, -0.027836311608552933, -0.4680447280406952, -0.2185366451740265, 0.1260284036397934, 1.2011821269989014, -0.3247396647930145, -0.10108312964439392, -0.3798397183418274, 0.43819576501846313, 0.38028663396835327, -0.57415771484375, -0.2585591971874237, 0.4425651431083679, -0.04363952577114105, -0.1480167806148529, -0.012385370209813118, 0.5207878947257996, 0.20685669779777527, 0.1696690022945404, 0.4102700650691986, 0.5486167669296265, -0.511612057685852, 0.23985178768634796, -0.9747648239135742, -0.32572680711746216, -0.15413673222064972, -0.2011226862668991, -0.396213561296463, 0.2087295800447464, -0.18531732261180878, 0.3871002495288849, -0.7208073735237122, -0.015498384833335876, -0.019387809559702873, -0.5845051407814026, 0.40237194299697876, -0.49671706557273865, 0.3437342941761017, -0.44338512420654297, 0.12368576973676682, -0.04560469463467598, -0.28960275650024414, 0.08469200879335403, -0.31490689516067505, -0.6671773195266724, -0.029108397662639618, 0.4548104405403137, 0.1266307681798935, 0.04352888837456703, -0.5802170634269714, -0.31762999296188354, -0.16136828064918518, -0.611471951007843, -0.09152251482009888, -0.10482175648212433, 0.239280566573143, -0.3705477714538574, 0.4360523223876953, 0.32190242409706116, 0.22326692938804626, -0.10142369568347931, -0.3734574615955353, -0.13132251799106598, -0.6418001055717468, 0.13164696097373962, -0.173444464802742, -0.2978813946247101, 0.3374452590942383, 0.37684735655784607, -0.13900738954544067, 0.23463891446590424, 0.6076977252960205, -0.07060373574495316, 0.5674788355827332, 0.3790404498577118, -0.7847058773040771, -0.08009130507707596, 0.4699903130531311, 0.3509749472141266, -0.9821810126304626, 0.08601859211921692, -0.556117832660675, -0.3171260356903076, 0.3958698809146881, -0.7456944584846497, -0.4027252495288849, -0.19635266065597534, -0.7711262106895447, 0.14775916934013367, -0.4624153673648834, 0.7743075489997864, -1.1187553405761719, -0.09377434849739075, 0.20077180862426758, 0.5181726217269897, -0.2355240285396576, -0.4236237704753876, 0.2878248691558838, 0.34667155146598816, -0.48800164461135864, -0.2656480073928833, -0.21322399377822876, -0.3941127359867096, -0.2988438308238983, -0.8244165182113647, -0.04633750021457672, -0.6771599054336548, 0.5777491927146912, -0.007102988660335541, 1.0309926271438599, -0.24441030621528625, -0.7158761620521545, 0.12329715490341187, 1.0699470043182373, 0.4752160310745239, -0.5783265829086304, 0.23207694292068481, -0.28798413276672363, 0.19001005589962006, 0.514525830745697, 0.515487015247345, -0.6665871143341064, 0.7419198751449585, -0.6901133060455322, 0.01176149770617485, -0.16009019315242767, -0.5098183751106262, -0.3067159354686737, 0.5468725562095642, 0.760617733001709, -0.6638538837432861, 0.6686984896659851, -0.20898106694221497, 0.08299029618501663, 0.26656007766723633, -0.7371191382408142, -0.22612227499485016, 0.8035470843315125, -0.07948529720306396, 0.046533942222595215, 0.11516238749027252, 0.12077552080154419, -0.5816987752914429, 0.055664170533418655, -0.8862274885177612, -0.31813904643058777, 0.02524407207965851, -0.08338101953268051, 0.05206810683012009, 0.8021117448806763, 0.1725914478302002, 0.10176641494035721, -0.44593700766563416, -0.181157186627388, -0.1327662467956543, 0.44357895851135254, 0.28981813788414, 1.019989252090454, -0.339887410402298, 0.7814370393753052, 0.6735138297080994, 0.29599717259407043, -0.31970280408859253, -0.31686657667160034, -0.21317841112613678, 0.38404974341392517, 0.3881232738494873, -0.22970378398895264, 0.21122275292873383, 0.07182125747203827, -0.43692243099212646, -0.018290478736162186, -0.347842812538147, -0.4017951488494873, 0.8285567760467529, 0.47659730911254883, 0.9962713122367859, 0.38982677459716797, -0.030745049938559532, -0.07224827259778976, -0.45168358087539673, 0.34934476017951965, 0.4394644498825073, -0.6746479272842407, -0.3164982795715332, 0.024553170427680016, 0.06672799587249756, 0.5905414819717407, 0.3797716498374939, -0.4528876841068268, 0.5270692110061646, -0.1909027099609375, -0.1045367494225502, 0.5501950979232788, -0.21065197885036469, -0.2727421224117279, -0.5109787583351135, 0.1855485737323761, 0.2301071137189865, -0.8221973180770874, -0.5114494562149048, 0.2920244634151459, 0.0720461905002594, -0.10236827284097672, 0.8781359195709229, 0.15043778717517853, -0.3778730630874634, -0.11384248733520508, 0.2485218495130539, -0.4722997546195984, 0.5144727826118469, 0.3624067008495331, 0.2664147913455963, 0.1101033166050911, 0.32270509004592896, -0.4717959463596344, 0.3151533603668213, 0.4832243323326111, 0.5384733080863953, 0.23614248633384705, 0.5181772708892822, 0.6333025097846985, -0.43084701895713806, 0.6000241637229919, -0.13720643520355225, 0.85615074634552, 0.17064030468463898, -0.29118481278419495, 0.021478984504938126, -0.1539069265127182, -0.06552280485630035, 0.45289739966392517, -0.19619715213775635, 0.2657722532749176, -0.00162917107809335, -0.40543895959854126, -1.2814443111419678, -0.3155454695224762, 0.17292632162570953, 0.10532325506210327, 0.11197703331708908, -0.47898542881011963, -0.13719002902507782, -0.3789750635623932, 0.23970600962638855, -0.08940435945987701, -0.07914941757917404, -0.3372364938259125, -0.4529794156551361, -0.11373245716094971, 0.10879699140787125, -0.08463684469461441, 0.3481515645980835, -0.24525776505470276, 0.5690892934799194, 0.34899523854255676, 0.012897777371108532, 0.7608659267425537, -0.27773815393447876, 0.050094958394765854, 0.23370909690856934, -0.4384106397628784, -0.23844382166862488, -0.14150430262088776, 0.7403562068939209, 0.37385550141334534, 0.050953079015016556, -0.8523123860359192, -0.006549516227096319, -0.23401223123073578, 0.6470263600349426, 0.34806427359580994, 0.587158203125, -0.48595914244651794, -0.634384036064148, 0.446637362241745, -0.4523216187953949, -0.7863023281097412, 0.68431556224823, -0.24134717881679535, -0.3237774074077606, 0.2333345115184784, 0.29549720883369446, -0.8678184747695923, -1.3529067039489746, -0.7957382202148438, 0.30988675355911255, 0.3483676612377167, 0.8235551118850708, -0.11098264157772064, -0.7568551898002625, 0.7458311319351196, 1.0755829811096191, -0.4667496979236603, 0.012020164169371128, 0.7171757221221924, -0.016050640493631363, -0.05623111128807068, 0.2045014202594757, -0.4121786653995514, 0.1289747804403305, 0.050759267061948776, -0.15792040526866913, -0.09465708583593369, -0.11842548102140427, -0.03426786884665489, 0.07164568454027176, 1.1380242109298706, -0.684876024723053, 0.5296772122383118], "query": "#\n\n# Gramps Web API - A RESTful API for the Gramps genealogy program\n\n#\n\n# Copyright (C) 2020      David Straub\n\n#\n\n# This program is free software; you can redistribute it and/or modify\n\n# it under the terms of the GNU Affero General Public License as published by\n\n# the Free Software Foundation; either version 3 of the License, or\n\n# (at your option) any later version.\n\n#\n\n# This program is distributed in the hope that it will be useful,\n\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\n# GNU Affero General Public License for more details.\n\n#\n\n# You should have received a copy of the GNU Affero General Public License\n\n# along with this program. If not, see <https://www.gnu.org/licenses/>.\n\n#\n\n\n\"\"\"File handling utilities.\"\"\"\n\n\nimport hashlib\n\nimport os\n\nfrom io import BytesIO\n\nfrom pathlib import Path\n\nfrom typing import Any, BinaryIO, Optional, Tuple, Union\n\n\nimport pytesseract\n\nfrom flask import jsonify, make_response, send_file, send_from_directory\n\nfrom gramps.gen.db.base import DbReadBase\n\nfrom gramps.gen.errors import HandleError\n\nfrom gramps.gen.lib import Media\n\nfrom PIL import Image\n\nfrom werkzeug.datastructures import FileStorage\n\n\nfrom gramps_webapi.const import MIME_JPEG\n\n\nfrom ..types import FilenameOrPath\n\nfrom .image import LocalFileThumbnailHandler, detect_faces\n\nfrom .util import abort_with_message\n\n\n\nclass FileHandler:\n\n    <BODY FileHandler>\n\n\nclass LocalFileHandler(FileHandler):\n\n    <BODY LocalFileHandler>\n\n\ndef upload_file_local(\n\n    base_dir: FilenameOrPath, rel_path: FilenameOrPath, stream: BinaryIO\n\n) -> None:\n\n    <BODY upload_file_local>\n\n\ndef get_checksum(fp) -> str:\n\n    <BODY get_checksum>\n\n\ndef process_file(stream: Union[Any, BinaryIO]) -> Tuple[str, int, BinaryIO]:\n\n    <BODY process_file>", "answer": "{}"}