{"embedding": [0.2948985695838928, -0.5134934186935425, -0.6142645478248596, -0.34861573576927185, 0.03027649223804474, -0.2822898328304291, -0.45913931727409363, 0.08126956224441528, -0.42156746983528137, -0.15207462012767792, 0.15968333184719086, -0.3937205672264099, 0.2359054684638977, 0.6242470145225525, 0.4888400733470917, 0.47397738695144653, 0.26516595482826233, -0.017473416402935982, 0.45948946475982666, -0.6768600344657898, -0.48097068071365356, -0.1366952806711197, 0.4544389545917511, 0.11880795657634735, -0.2863078713417053, 0.22299408912658691, 0.6298128962516785, -0.21038268506526947, -0.0653245821595192, -0.11219678819179535, 0.22472819685935974, -0.613901674747467, 0.4734781086444855, -0.04185660928487778, 0.2743428945541382, -0.1571129858493805, 0.17688040435314178, 0.5554609298706055, -0.5421543121337891, 0.4826100170612335, 0.1142033115029335, 0.21655404567718506, 0.216472789645195, -0.36073625087738037, 0.3749953508377075, 0.8650057315826416, -0.12061143666505814, 0.17854174971580505, 0.37804731726646423, 0.19082295894622803, -0.1604607105255127, -0.425214946269989, -0.16547167301177979, 0.7945465445518494, 0.1876928210258484, 0.19397711753845215, -0.5598766207695007, 0.9631940126419067, -0.011875131167471409, -0.39128121733665466, 0.3738308846950531, -0.06868234276771545, 0.33442676067352295, -0.09905030578374863, 0.33446383476257324, 0.5504400730133057, -0.4029802680015564, -0.27372869849205017, -0.2097562849521637, 0.33165404200553894, -0.36014142632484436, -0.410399854183197, -0.06327008455991745, -0.07379560172557831, 0.6256972551345825, -0.47198203206062317, 0.3175715506076813, -0.2715857923030853, -0.21141572296619415, -0.419363409280777, 0.4700946509838104, 0.17744037508964539, -0.4975343346595764, 0.04431135952472687, 1.318039059638977, 0.5238866209983826, 0.3205948770046234, -0.513812780380249, -1.2576457262039185, 0.25131842494010925, -0.4044497311115265, -0.151255264878273, -0.0977758839726448, -0.16021296381950378, 0.16886332631111145, -0.7060022354125977, -0.6289889216423035, -0.1508837342262268, -0.35041600465774536, -0.45594802498817444, -0.357541561126709, -0.11433842033147812, -0.4249539375305176, 0.5351269841194153, 0.4742588996887207, -0.4430306851863861, -0.6518825888633728, -0.03406906500458717, -0.18169337511062622, -0.15074068307876587, -0.4879106283187866, -0.4264357388019562, 0.2906606197357178, -0.6028161644935608, 0.07985471934080124, -0.12570132315158844, 0.004916829988360405, 0.1512947827577591, 0.592727780342102, -0.6664221286773682, 0.4054814875125885, -0.42808395624160767, -0.2991294264793396, 0.009617726318538189, 0.6498119235038757, 0.1462084800004959, -0.13909205794334412, 0.8511415123939514, -0.2216462641954422, -0.7446885704994202, -0.7264993786811829, 0.5939165353775024, -0.631375253200531, 0.022038327530026436, -0.17125512659549713, -0.34254488348960876, 0.23163433372974396, -0.14347566664218903, -0.12714293599128723, 0.49893423914909363, -0.1352766752243042, 0.3121989071369171, -0.24914346635341644, -0.4519290626049042, -0.5838413238525391, -0.3653753101825714, 0.20115862786769867, -0.38970276713371277, -0.21259218454360962, 0.0812695249915123, -0.19092567265033722, -0.45386946201324463, -0.18793797492980957, 0.06230795755982399, 0.3147829473018646, 0.37687230110168457, -0.2031860649585724, 0.13749639689922333, -0.07681504637002945, -0.044561274349689484, -0.22018711268901825, -0.7285792231559753, -0.11544434726238251, -0.05474603921175003, 0.08317874372005463, 0.2316509485244751, 0.25031042098999023, -0.041304223239421844, 0.30175694823265076, 0.16408349573612213, 0.20965634286403656, 0.020375411957502365, -0.5351450443267822, -0.34274357557296753, 0.16491514444351196, 0.4390668570995331, 0.6824753284454346, -0.05013733357191086, -0.15575002133846283, 0.11734267324209213, 0.3328094184398651, -0.45846322178840637, 0.010735303163528442, 0.1717454344034195, 0.2799544334411621, 0.20476427674293518, -0.3514671325683594, 0.6788853406906128, -0.31730809807777405, 0.1267164647579193, -0.11421052366495132, 0.05543079599738121, 0.21954092383384705, 0.1334230899810791, -0.488844633102417, -0.08091618865728378, 0.2385154813528061, 0.27053695917129517, 0.20904476940631866, -0.22792048752307892, -0.6376494765281677, -0.018201973289251328, 0.0005928634782321751, -0.5722400546073914, 0.2989639341831207, -0.02996090240776539, 0.133825421333313, -0.039784546941518784, -0.3011668920516968, -0.292522668838501, -0.2916106581687927, 0.458046555519104, -0.010040199384093285, -0.03072863444685936, 0.3067539930343628, -0.5327776074409485, 0.19321167469024658, 0.3079141080379486, -0.2908007800579071, 0.2507822513580322, -0.3700796067714691, -0.24868740141391754, 0.02146850898861885, -0.94406658411026, -0.3660987615585327, 0.1621437817811966, 0.3134227693080902, 0.5223744511604309, 0.13567176461219788, -0.4185519218444824, -0.20277412235736847, 0.22906404733657837, 0.3905334174633026, 0.5968438982963562, 0.03570151329040527, 0.41944873332977295, -0.07246667891740799, 0.5692965388298035, -0.16052456200122833, 0.3616119623184204, 0.3177874684333801, -0.20019491016864777, -0.2933656871318817, -1.0279946327209473, -0.1410679668188095, 0.23274309933185577, 0.25294628739356995, -0.43072590231895447, -0.04704464599490166, -0.8917487859725952, -0.012289212085306644, -0.06146771460771561, 0.07729115337133408, -0.1186666190624237, -0.5953431129455566, -0.6209800243377686, -0.3252662122249603, -0.09711536765098572, 0.481781542301178, -0.4258408546447754, 0.2988543212413788, -0.1914663463830948, -0.3479549288749695, 0.9611185789108276, 0.33891844749450684, -0.006621775217354298, 0.18053142726421356, -0.1572597175836563, -0.31977972388267517, -0.26556727290153503, 0.6623879671096802, 0.747732400894165, -0.7442002296447754, -0.2509239912033081, -0.2846612334251404, -0.10313380509614944, -0.06944546848535538, -0.15391194820404053, -0.44652366638183594, -0.4324418902397156, 0.16082830727100372, -0.2833904027938843, 0.5049248933792114, 0.48443540930747986, 0.7464227080345154, -0.2922631502151489, -0.11704718321561813, 0.6864742040634155, -0.3809417188167572, -0.19099311530590057, 0.18654847145080566, 0.2647334635257721, -0.3188522756099701, 0.1596568524837494, 0.6700674891471863, 0.33128371834754944, -0.31053557991981506, -0.5169106125831604, 0.3859807550907135, -0.4670601189136505, 0.2833130955696106, 0.42125239968299866, 1.6307504177093506, 0.08033501356840134, -0.4988481402397156, -0.14570245146751404, 0.8885557651519775, 0.0727461576461792, 0.5662474036216736, -0.17768342792987823, 0.0748174786567688, -0.5446620583534241, 0.043361272662878036, 0.21452869474887848, 0.1579694151878357, -0.07030913233757019, -0.11202333867549896, 0.5388829112052917, 0.2607826292514801, 0.3630787432193756, -0.4480005204677582, 0.8599216938018799, 0.9894520044326782, -0.14158093929290771, 1.1806321144104004, -0.40789005160331726, 0.3092046082019806, 0.8536217212677002, -0.16731950640678406, 0.08412919193506241, -0.5920654535293579, -0.29288312792778015, 0.08454641699790955, 0.44504091143608093, -0.3852499723434448, -0.2755661904811859, -0.16670414805412292, -0.8632139563560486, -0.29215195775032043, -0.37335070967674255, 0.6835544109344482, 0.19426482915878296, -0.11101500689983368, 0.33129340410232544, -0.04543253406882286, -0.24162355065345764, 0.5987932682037354, -0.2301490604877472, 0.23075366020202637, 0.34327271580696106, 0.21517106890678406, -0.031984541565179825, 0.31110766530036926, 0.17918653786182404, 0.4385351836681366, -0.9126956462860107, -0.27579933404922485, -0.443389892578125, -0.03569190576672554, -0.012541163712739944, -0.29430627822875977, 0.48248109221458435, -0.5948678255081177, 0.35985422134399414, -0.15003056824207306, -0.01389469113200903, 0.4199184477329254, 0.011960956268012524, 0.6857311129570007, -0.3444397747516632, 0.3349865674972534, 0.08594659715890884, -0.2815623879432678, -0.11743580549955368, 0.03883092850446701, -0.23275986313819885, 0.24804536998271942, 0.21260477602481842, -0.7411664128303528, 0.3455108106136322, -0.3690427541732788, 0.8137910962104797, -0.509214460849762, -0.01856733299791813, -0.13252569735050201, -0.6965845227241516, 0.16607117652893066, 0.04046817868947983, -0.46973472833633423, -0.0528482049703598, 0.49712562561035156, 0.05398406833410263, 0.11800255626440048, -0.1267358958721161, -0.44596385955810547, -0.5393334031105042, -0.1741827130317688, 0.11907218396663666, 0.1680196076631546, -0.23805929720401764, 0.6694822907447815, 0.07026446610689163, 0.43737471103668213, 0.6488660573959351, 0.6885257363319397, -0.4037473797798157, 0.9991944432258606, 0.012892702594399452, 0.2588209807872772, 0.8250769376754761, -0.35807833075523376, -0.1636286973953247, -0.9628372192382812, 0.08116372674703598, -0.5101595520973206, -0.4784001111984253, -0.46354568004608154, 0.3180255889892578, 0.15689818561077118, 0.40910235047340393, -0.07311965525150299, 0.1537938117980957, 0.5915456414222717, 0.381178617477417, -0.28415045142173767, 0.09173524379730225, -0.1665077954530716, 0.29939520359039307, -0.6008723974227905, 0.038298349827528, 0.13817378878593445, 0.09906812757253647, -0.39417096972465515, -0.7559643983840942, 0.3869832158088684, -0.39658185839653015, 0.18158471584320068, -0.6538553237915039, 0.174051433801651, -0.17691516876220703, 0.04629020392894745, 0.10614433139562607, 0.40102913975715637, -0.19367538392543793, 0.9045034646987915, -0.19847051799297333, -0.891654908657074, 0.03744559362530708, 0.8860037326812744, -0.11841104179620743, -1.0096242427825928, -0.13243839144706726, 0.28108006715774536, -0.05983872711658478, -0.4407685101032257, -0.7356902956962585, 0.7219074964523315, -0.13063064217567444, -0.5715131759643555, -0.333039790391922, -0.048723552376031876, -0.04214906319975853, -0.08579720556735992, 0.3535207211971283, 0.31522688269615173, 0.13717232644557953, 0.4441218376159668, 0.025857336819171906, -0.1499662548303604, 0.3624196946620941, 0.08413677662611008, 0.1362801492214203, -0.27535322308540344, -0.24630114436149597, 0.741215705871582, 0.42855826020240784, 0.47773903608322144, 0.16086465120315552, 0.07321139425039291, -0.40075963735580444, 0.6355175971984863, -0.6985666155815125, -0.006959186866879463, 0.17311811447143555, -0.14512011408805847, -0.2640383243560791, 0.17257414758205414, -0.001435832935385406, -0.4676070809364319, -0.19583521783351898, 0.12750273942947388, -0.5656420588493347, -0.04299265518784523, 0.05411741882562637, -0.2704715132713318, 0.07056239247322083, 0.38061952590942383, 0.16447636485099792, 0.4335850775241852, -0.5289284586906433, 0.18752789497375488, -0.38663917779922485, 0.06108609586954117, -0.10580762475728989, -0.05083785206079483, 0.22154293954372406, -0.32519081234931946, -0.10290093719959259, -0.13629759848117828, 0.03439732640981674, -0.020008966326713562, -0.48680391907691956, 0.5290759801864624, -0.20480172336101532, -0.47665828466415405, 0.7215417623519897, 0.9248040914535522, 0.826483428478241, 0.15176118910312653, 0.03831423074007034, 0.12222132086753845, 0.29598310589790344, 0.5784757137298584, -0.27107998728752136, 0.2987918257713318, 0.49759307503700256, -0.329365074634552, 0.06341381371021271, 0.11083260923624039, 0.774553656578064, 0.5101738572120667, 0.49651414155960083, 0.3298942446708679, -0.7427847385406494, -0.10276269912719727, 0.3846677243709564, -0.6434470415115356, -0.6048287153244019, 0.7945299744606018, 0.03218196704983711, -0.09293268620967865, 0.2528676986694336, -0.49700555205345154, -0.41390514373779297, -0.5365397334098816, -0.579558789730072, 0.5954844355583191, -0.5831952691078186, 0.8690444231033325, -0.6556329131126404, 0.40705356001853943, 0.11639157682657242, 0.49406707286834717, 0.09877859055995941, -0.5537230968475342, 0.20509079098701477, 0.014148133806884289, -0.003844223218038678, -0.1721276342868805, 0.042727645486593246, -0.261587530374527, 0.20540998876094818, -0.6782709956169128, -0.1611209660768509, 0.2639939785003662, 0.30739152431488037, -0.16368377208709717, 0.054769959300756454, -0.317201167345047, 0.1369175761938095, -0.4787817895412445, 0.2648099362850189, 0.4334409832954407, -0.312461256980896, -0.21953719854354858, -0.44468575716018677, -0.19784580171108246, 0.017346970736980438, 0.1874614655971527, -0.6331382393836975, 0.5259541273117065, -0.03260901942849159, -0.16285458207130432, -1.180700421333313, -0.030104998499155045, -0.03497295826673508, 0.7334485054016113, 1.0811508893966675, 0.1654123216867447, 0.26688307523727417, -0.5163766741752625, 0.6828396916389465, 0.2590230107307434, -0.47366875410079956, 0.2510831952095032, 0.391223669052124, -0.45119509100914, 0.3319091796875, -0.22402825951576233, -0.0663488432765007, -0.0671808198094368, 0.45640864968299866, 0.11860243231058121, -0.44647279381752014, 0.15352466702461243, -0.3063318729400635, 0.054721247404813766, -0.18931633234024048, -0.24105486273765564, -0.0670795887708664, 0.231084942817688, -0.05562330409884453, -0.0919330045580864, 0.1968134194612503, -0.21505743265151978, -0.4370383024215698, -0.023808132857084274, 0.8632805943489075, 0.30535149574279785, 0.05040472000837326, -0.30322206020355225, 0.4313323497772217, -0.03237880393862724, 0.2233128398656845, -0.3281417787075043, 0.1821836680173874, -0.10131623595952988, -0.2286066859960556, -0.32733824849128723, -0.13835693895816803, -0.1680106371641159, -0.22569364309310913, -0.4570818841457367, -0.004736395552754402, 0.0826888158917427, -0.08040495961904526, 0.2910754680633545, -0.6534674763679504, -0.08634878695011139, 0.22379322350025177, 0.31156545877456665, 0.05876675248146057, -0.2269541323184967, 0.04301254451274872, 0.010153248906135559, 1.1910854578018188, -0.6309188604354858, -0.9907018542289734, 0.23293635249137878, 0.05057569965720177, 0.023813487961888313, 0.6044090986251831, -0.10143352299928665, -0.20782336592674255, -0.6756359934806824, 0.6726248264312744, -0.27589863538742065, -0.22472548484802246, -0.32102593779563904, 0.41398710012435913, 0.054064180701971054, -0.6586716771125793, 0.5835008025169373, -0.3455835282802582, -0.7795100212097168, -0.07595188170671463, 0.21597255766391754, -0.21908187866210938, -0.3714042901992798, 0.5444762110710144, 0.014271089807152748, -0.2628284990787506, 0.6384673118591309, -0.22031734883785248, -0.3828759491443634, 0.0020257066935300827, -0.4227105379104614, 0.30867013335227966, 0.3345126211643219, 0.24506008625030518, -0.0686645656824112, -0.10734083503484726, -0.005523092113435268, 0.5975295305252075, -0.0021854538936167955, 0.1327696144580841, -0.02797217108309269, -0.11240998655557632, -0.16553325951099396, 0.030136752873659134, -0.004431943874806166, -0.4154815077781677, -0.25395163893699646, 0.04161053150892258, -0.5560587048530579, -0.25928249955177307, -0.3705154061317444, -0.27594682574272156, 0.07274425029754639, -0.0983785018324852, 0.0548299178481102, -0.23437485098838806, 0.23084066808223724, -0.24259783327579498, -0.0067537217400968075, 0.30477315187454224, -0.18462251126766205, -0.5255771279335022, -0.06335146725177765, 0.07541799545288086, 0.18434080481529236, 0.7254778146743774, 0.7846821546554565, -0.3480267822742462, -0.08705615997314453, -0.39872872829437256, -0.009199055843055248, 0.5839530229568481, 0.08769247680902481, -0.05906745046377182, 0.07501326501369476, 0.02623666077852249, 0.7484766244888306, -0.4969662129878998, 0.7762312889099121, -0.18486371636390686, -0.5048519968986511, 0.4101555347442627, 0.3411652147769928, -0.1721748560667038, -0.08949082344770432, 0.29715847969055176, -0.6137174963951111, 0.4362163245677948, -0.0669984221458435, -0.839268147945404, 0.7130671739578247, -0.046638764441013336, -0.3224242627620697, -0.13084332644939423, 0.24114573001861572, 0.15189166367053986, -0.5567089319229126, -0.3241247236728668, 0.47739747166633606, 0.6755232810974121, 0.504596471786499, -0.57692551612854, -0.16582636535167694, 0.01761823706328869, 0.9512667059898376, 0.03298298269510269, -0.3349718451499939, 0.19675546884536743, -0.2688654661178589, -0.4020671248435974, 0.5764023065567017, 0.645927906036377, -0.629456102848053, -0.1921738237142563, -0.22586040198802948, -0.44390568137168884, -0.2775416076183319, -0.06917967647314072, 0.9018029570579529, 0.8452618718147278, -0.1831781417131424, -0.04545619338750839], "query": "#\n\n# Gramps Web API - A RESTful API for the Gramps genealogy program\n\n#\n\n# Copyright (C) 2020-2022      David Straub\n\n#\n\n# This program is free software; you can redistribute it and/or modify\n\n# it under the terms of the GNU Affero General Public License as published by\n\n# the Free Software Foundation; either version 3 of the License, or\n\n# (at your option) any later version.\n\n#\n\n# This program is distributed in the hope that it will be useful,\n\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\n# GNU Affero General Public License for more details.\n\n#\n\n# You should have received a copy of the GNU Affero General Public License\n\n# along with this program. If not, see <https://www.gnu.org/licenses/>.\n\n#\n\n\n\"\"\"REST API blueprint.\"\"\"\n\n\nfrom typing import Type\n\n\nfrom flask import Blueprint, current_app\n\nfrom webargs import fields, validate\n\n\nfrom ..const import API_PREFIX\n\nfrom .auth import jwt_required\n\nfrom .cache import thumbnail_cache\n\nfrom .media import get_media_handler\n\nfrom .resources.base import Resource\n\nfrom .resources.bookmarks import (\n\n    BookmarkEditResource,\n\n    BookmarkResource,\n\n    BookmarksResource,\n\n)\n\nfrom .resources.chat import ChatResource\n\nfrom .resources.citations import CitationResource, CitationsResource\n\nfrom .resources.config import ConfigResource, ConfigsResource\n\nfrom .resources.dna import PersonDnaMatchesResource\n\nfrom .resources.events import EventResource, EventSpanResource, EventsResource\n\nfrom .resources.export_media import MediaArchiveFileResource, MediaArchiveResource\n\nfrom .resources.exporters import (\n\n    ExporterFileResource,\n\n    ExporterFileResultResource,\n\n    ExporterResource,\n\n    ExportersResource,\n\n)\n\nfrom .resources.face_detection import MediaFaceDetectionResource\n\nfrom .resources.facts import FactsResource\n\nfrom .resources.families import FamiliesResource, FamilyResource\n\nfrom .resources.file import MediaFileResource\n\nfrom .resources.filters import FilterResource, FiltersResource, FiltersResources\n\nfrom .resources.history import TransactionHistoryResource, TransactionsHistoryResource\n\nfrom .resources.holidays import HolidayResource, HolidaysResource\n\nfrom .resources.import_media import MediaUploadZipResource\n\nfrom .resources.importers import (\n\n    ImporterFileResource,\n\n    ImporterResource,\n\n    ImportersResource,\n\n)\n\nfrom .resources.living import LivingDatesResource, LivingResource\n\nfrom .resources.media import MediaObjectResource, MediaObjectsResource\n\nfrom .resources.metadata import MetadataResource\n\nfrom .resources.name_formats import NameFormatsResource\n\nfrom .resources.name_groups import NameGroupsResource\n\nfrom .resources.notes import NoteResource, NotesResource\n\nfrom .resources.objects import CreateObjectsResource, DeleteObjectsResource\n\nfrom .resources.ocr import MediaOcrResource\n\nfrom .resources.people import PeopleResource, PersonResource\n\nfrom .resources.places import PlaceResource, PlacesResource\n\nfrom .resources.relations import RelationResource, RelationsResource\n\nfrom .resources.reports import (\n\n    ReportFileResource,\n\n    ReportFileResultResource,\n\n    ReportResource,\n\n    ReportsResource,\n\n)\n\nfrom .resources.repositories import RepositoriesResource, RepositoryResource\n\nfrom .resources.search import SearchIndexResource, SearchResource\n\nfrom .resources.sources import SourceResource, SourcesResource\n\nfrom .resources.tags import TagResource, TagsResource\n\nfrom .resources.tasks import TaskResource\n\nfrom .resources.timeline import (\n\n    FamilyTimelineResource,\n\n    PersonTimelineResource,\n\n    TimelineFamiliesResource,\n\n    TimelinePeopleResource,\n\n)\n\nfrom .resources.token import (\n\n    TokenCreateOwnerResource,\n\n    TokenRefreshResource,\n\n    TokenResource,\n\n)\n\nfrom .resources.transactions import TransactionsResource\n\nfrom .resources.translations import TranslationResource, TranslationsResource\n\nfrom .resources.trees import (\n\n    CheckTreeResource,\n\n    DisableTreeResource,\n\n    EnableTreeResource,\n\n    TreeResource,\n\n    TreesResource,\n\n    UpgradeTreeSchemaResource,\n\n)\n\nfrom .resources.types import (\n\n    CustomTypeResource,\n\n    CustomTypesResource,\n\n    DefaultTypeMapResource,\n\n    DefaultTypeResource,\n\n    DefaultTypesResource,\n\n    TypesResource,\n\n)\n\nfrom .resources.user import (\n\n    UserChangePasswordResource,\n\n    UserConfirmEmailResource,\n\n    UserCreateOwnerResource,\n\n    UserRegisterResource,\n\n    UserResetPasswordResource,\n\n    UserResource,\n\n    UsersResource,\n\n    UserTriggerResetPasswordResource,\n\n)\n\nfrom .util import get_db_handle, get_tree_from_jwt, make_cache_key_thumbnails, use_args\n\n\n#\n\napi_blueprint = Blueprint(\"api\", __name__, url_prefix=API_PREFIX)\n\n\n\ndef register_endpt(resource: Type[Resource], url: str, name: str):\n\n    <BODY register_endpt>\n\n# Objects\n\nregister_endpt(CreateObjectsResource, \"/objects/\", \"objects\")\n\nregister_endpt(DeleteObjectsResource, \"/objects/delete/\", \"delete_objects\")\n\n# Transactions\n\nregister_endpt(TransactionsResource, \"/transactions/\", \"transactions\")\n\nregister_endpt(\n\n    TransactionsHistoryResource, \"/transactions/history/\", \"transactions_history\"\n\n)\n\nregister_endpt(\n\n    TransactionHistoryResource,\n\n    \"/transactions/history/<int:transaction_id>\",\n\n    \"transaction_history\",\n\n)\n\n# Token\n\nregister_endpt(TokenResource, \"/token/\", \"token\")\n\nregister_endpt(TokenRefreshResource, \"/token/refresh/\", \"token_refresh\")\n\nregister_endpt(TokenCreateOwnerResource, \"/token/create_owner/\", \"token_create_owner\")\n\n# People\n\nregister_endpt(\n\n    PersonTimelineResource, \"/people/<string:handle>/timeline\", \"person-timeline\"\n\n)\n\nregister_endpt(PersonResource, \"/people/<string:handle>\", \"person\")\n\nregister_endpt(\n\n    PersonDnaMatchesResource,\n\n    \"/people/<string:handle>/dna/matches\",\n\n    \"person-dna-matches\",\n\n)\n\nregister_endpt(PeopleResource, \"/people/\", \"people\")\n\n# Families\n\nregister_endpt(\n\n    FamilyTimelineResource, \"/families/<string:handle>/timeline\", \"family-timeline\"\n\n)\n\nregister_endpt(FamilyResource, \"/families/<string:handle>\", \"family\")\n\nregister_endpt(FamiliesResource, \"/families/\", \"families\")\n\n# Events\n\nregister_endpt(\n\n    EventSpanResource, \"/events/<string:handle1>/span/<string:handle2>\", \"event-span\"\n\n)\n\nregister_endpt(EventResource, \"/events/<string:handle>\", \"event\")\n\nregister_endpt(EventsResource, \"/events/\", \"events\")\n\n# Timelines\n\nregister_endpt(TimelinePeopleResource, \"/timelines/people/\", \"timeline-people\")\n\nregister_endpt(TimelineFamiliesResource, \"/timelines/families/\", \"timeline-families\")\n\n# Places\n\nregister_endpt(PlaceResource, \"/places/<string:handle>\", \"place\")\n\nregister_endpt(PlacesResource, \"/places/\", \"places\")\n\n# Citations\n\nregister_endpt(CitationResource, \"/citations/<string:handle>\", \"citation\")\n\nregister_endpt(CitationsResource, \"/citations/\", \"citations\")\n\n# Sources\n\nregister_endpt(SourceResource, \"/sources/<string:handle>\", \"source\")\n\nregister_endpt(SourcesResource, \"/sources/\", \"sources\")\n\n# Repositories\n\nregister_endpt(RepositoryResource, \"/repositories/<string:handle>\", \"repository\")\n\nregister_endpt(RepositoriesResource, \"/repositories/\", \"repositories\")\n\n# Media\n\nregister_endpt(MediaObjectResource, \"/media/<string:handle>\", \"media_object\")\n\nregister_endpt(MediaObjectsResource, \"/media/\", \"media_objects\")\n\n# Notes\n\nregister_endpt(NoteResource, \"/notes/<string:handle>\", \"note\")\n\nregister_endpt(NotesResource, \"/notes/\", \"notes\")\n\n# Tags\n\nregister_endpt(TagResource, \"/tags/<string:handle>\", \"tag\")\n\nregister_endpt(TagsResource, \"/tags/\", \"tags\")\n\n# Trees\n\nregister_endpt(TreeResource, \"/trees/<string:tree_id>\", \"tree\")\n\nregister_endpt(TreesResource, \"/trees/\", \"trees\")\n\nregister_endpt(DisableTreeResource, \"/trees/<string:tree_id>/disable\", \"disable_tree\")\n\nregister_endpt(EnableTreeResource, \"/trees/<string:tree_id>/enable\", \"enable_tree\")\n\nregister_endpt(CheckTreeResource, \"/trees/<string:tree_id>/repair\", \"repair_tree\")\n\nregister_endpt(\n\n    UpgradeTreeSchemaResource, \"/trees/<string:tree_id>/migrate\", \"migrate_tree\"\n\n)\n\n# Types\n\nregister_endpt(CustomTypeResource, \"/types/custom/<string:datatype>\", \"custom-type\")\n\nregister_endpt(CustomTypesResource, \"/types/custom/\", \"custom-types\")\n\nregister_endpt(\n\n    DefaultTypeMapResource, \"/types/default/<string:datatype>/map\", \"default-type-map\"\n\n)\n\nregister_endpt(DefaultTypeResource, \"/types/default/<string:datatype>\", \"default-type\")\n\nregister_endpt(DefaultTypesResource, \"/types/default/\", \"default-types\")\n\nregister_endpt(TypesResource, \"/types/\", \"types\")\n\n# Name Formats\n\nregister_endpt(NameFormatsResource, \"/name-formats/\", \"name-formats\")\n\n# Name Groups\n\nregister_endpt(\n\n    NameGroupsResource, \"/name-groups/<string:surname>/<string:group>\", \"set-name-group\"\n\n)\n\nregister_endpt(NameGroupsResource, \"/name-groups/<string:surname>\", \"get-name-group\")\n\nregister_endpt(NameGroupsResource, \"/name-groups/\", \"name-groups\")\n\n# Bookmarks\n\nregister_endpt(BookmarkResource, \"/bookmarks/<string:namespace>\", \"bookmark\")\n\nregister_endpt(BookmarksResource, \"/bookmarks/\", \"bookmarks\")\n\nregister_endpt(\n\n    BookmarkEditResource,\n\n    \"/bookmarks/<string:namespace>/<string:handle>\",\n\n    \"bookmark_edit\",\n\n)\n\n# Filters\n\nregister_endpt(FilterResource, \"/filters/<string:namespace>/<string:name>\", \"filter\")\n\nregister_endpt(FiltersResource, \"/filters/<string:namespace>\", \"filters-namespace\")\n\nregister_endpt(FiltersResources, \"/filters/\", \"filters\")\n\n# Translations\n\nregister_endpt(TranslationResource, \"/translations/<string:language>\", \"translation\")\n\nregister_endpt(TranslationsResource, \"/translations/\", \"translations\")\n\n# Relations\n\nregister_endpt(\n\n    RelationResource,\n\n    \"/relations/<string:handle1>/<string:handle2>\",\n\n    \"relation\",\n\n)\n\nregister_endpt(\n\n    RelationsResource,\n\n    \"/relations/<string:handle1>/<string:handle2>/all\",\n\n    \"relations\",\n\n)\n\n# Living\n\nregister_endpt(LivingDatesResource, \"/living/<string:handle>/dates\", \"living-dates\")\n\nregister_endpt(LivingResource, \"/living/<string:handle>\", \"living\")\n\n# Reports\n\nregister_endpt(ReportFileResource, \"/reports/<string:report_id>/file\", \"report-file\")\n\nregister_endpt(ReportResource, \"/reports/<string:report_id>\", \"report\")\n\nregister_endpt(ReportsResource, \"/reports/\", \"reports\")\n\nregister_endpt(\n\n    ReportFileResultResource,\n\n    \"/reports/<string:report_id>/file/processed/<string:filename>\",\n\n    \"report-file-result\",\n\n)\n\n# Facts\n\nregister_endpt(FactsResource, \"/facts/\", \"facts\")\n\n# Exporters\n\nregister_endpt(\n\n    ExporterFileResource, \"/exporters/<string:extension>/file\", \"exporter-file\"\n\n)\n\nregister_endpt(\n\n    ExporterFileResultResource,\n\n    \"/exporters/<string:extension>/file/processed/<string:filename>\",\n\n    \"exporter-file-result\",\n\n)\n\nregister_endpt(ExporterResource, \"/exporters/<string:extension>\", \"exporter\")\n\nregister_endpt(ExportersResource, \"/exporters/\", \"exporters\")\n\n# Importers\n\nregister_endpt(\n\n    ImporterFileResource, \"/importers/<string:extension>/file\", \"importer-file\"\n\n)\n\nregister_endpt(ImporterResource, \"/importers/<string:extension>\", \"importer\")\n\nregister_endpt(ImportersResource, \"/importers/\", \"importers\")\n\n# Holidays\n\nregister_endpt(\n\n    HolidayResource,\n\n    \"/holidays/<string:country>/<int:year>/<int:month>/<int:day>\",\n\n    \"holiday\",\n\n)\n\nregister_endpt(HolidaysResource, \"/holidays/\", \"holidays\")\n\n# Metadata\n\nregister_endpt(MetadataResource, \"/metadata/\", \"metadata\")\n\n# User\n\nregister_endpt(\n\n    UsersResource,\n\n    \"/users/\",\n\n    \"users\",\n\n)\n\nregister_endpt(\n\n    UserResource,\n\n    \"/users/<string:user_name>/\",\n\n    \"user\",\n\n)\n\nregister_endpt(\n\n    UserRegisterResource,\n\n    \"/users/<string:user_name>/register/\",\n\n    \"register\",\n\n)\n\nregister_endpt(\n\n    UserCreateOwnerResource,\n\n    \"/users/<string:user_name>/create_owner/\",\n\n    \"user_create_owner\",\n\n)\n\nregister_endpt(\n\n    UserConfirmEmailResource,\n\n    \"/users/-/email/confirm/\",\n\n    \"confirm_email\",\n\n)\n\nregister_endpt(\n\n    UserChangePasswordResource,\n\n    \"/users/<string:user_name>/password/change\",\n\n    \"change_password\",\n\n)\n\nregister_endpt(\n\n    UserResetPasswordResource,\n\n    \"/users/-/password/reset/\",\n\n    \"reset_password\",\n\n)\n\nregister_endpt(\n\n    UserTriggerResetPasswordResource,\n\n    \"/users/<string:user_name>/password/reset/trigger/\",\n\n    \"trigger_reset_password\",\n\n)\n\n# Search\n\nregister_endpt(SearchResource, \"/search/\", \"search\")\n\nregister_endpt(SearchIndexResource, \"/search/index/\", \"search_index\")\n\n\n# Chat\n\nregister_endpt(ChatResource, \"/chat/\", \"chat\")\n\n\n# Config\n\nregister_endpt(\n\n    ConfigsResource,\n\n    \"/config/\",\n\n    \"configs\",\n\n)\n\nregister_endpt(\n\n    ConfigResource,\n\n    \"/config/<string:key>/\",\n\n    \"config\",\n\n)\n\n\n# Tasks\n\nregister_endpt(\n\n    TaskResource,\n\n    \"/tasks/<string:task_id>\",\n\n    \"task\",\n\n)\n\n\n# Media files\n\nregister_endpt(\n\n    MediaFileResource,\n\n    \"/media/<string:handle>/file\",\n\n    \"media_file\",\n\n)\n\n\n# Face detection\n\nregister_endpt(\n\n    MediaFaceDetectionResource,\n\n    \"/media/<string:handle>/face_detection\",\n\n    \"media_face_detection\",\n\n)\n\n# OCR\n\nregister_endpt(\n\n    MediaOcrResource,\n\n    \"/media/<string:handle>/ocr\",\n\n    \"media_ocr\",\n\n)\n\n\n# Media export\n\nregister_endpt(\n\n    MediaArchiveResource,\n\n    \"/media/archive/\",\n\n    \"media_archive\",\n\n)\n\n\n# Media export\n\nregister_endpt(\n\n    MediaArchiveFileResource,\n\n    \"/media/archive/<string:filename>\",\n\n    \"media_archive_filename\",\n\n)\n\n\n# Media import\n\nregister_endpt(\n\n    MediaUploadZipResource,\n\n    \"/media/archive/upload/zip\",\n\n    \"media_archive_upload_zip\",\n\n)\n\n\n# Thumbnails\n\n@api_blueprint.route(\"/media/<string:handle>/thumbnail/<int:size>\")\n\n@jwt_required\n\n@use_args(\n\n    {\n\n        \"square\": fields.Boolean(load_default=False),\n\n        \"jwt\": fields.String(required=False),\n\n    },\n\n    location=\"query\",\n\n)\n\n@thumbnail_cache.cached(make_cache_key=make_cache_key_thumbnails)\n\ndef get_thumbnail(args, handle, size):\n\n    <BODY get_thumbnail>\n\n\n@api_blueprint.route(\n\n    \"/media/<string:handle>/cropped/<int:x1>/<int:y1>/<int:x2>/<int:y2>\"\n\n)\n\n@jwt_required\n\n@use_args(\n\n    {\n\n        \"square\": fields.Boolean(load_default=False),\n\n        \"jwt\": fields.String(required=False),\n\n    },\n\n    location=\"query\",\n\n)\n\n@thumbnail_cache.cached(make_cache_key=make_cache_key_thumbnails)\n\ndef get_cropped(args, handle: str, x1: int, y1: int, x2: int, y2: int):\n\n    <BODY get_cropped>\n\n\n@api_blueprint.route(\n\n    \"/media/<string:handle>/cropped/<int:x1>/<int:y1>/<int:x2>/<int:y2>/thumbnail/<int:size>\"\n\n)\n\n@jwt_required\n\n@use_args(\n\n    {\n\n        \"square\": fields.Boolean(load_default=False),\n\n        \"jwt\": fields.String(required=False),\n\n    },\n\n    location=\"query\",\n\n)\n\n@thumbnail_cache.cached(make_cache_key=make_cache_key_thumbnails)\n\ndef get_thumbnail_cropped(\n\n    args, handle: str, x1: int, y1: int, x2: int, y2: int, size: int\n\n):\n\n    <BODY get_thumbnail_cropped>", "answer": "{}"}