{"embedding": [0.056810177862644196, -0.9931084513664246, -1.7340489625930786, -0.11049120128154755, 0.496147483587265, -0.6276541352272034, -0.4759717881679535, 0.7276390194892883, -0.18196313083171844, -0.33558788895606995, -0.49504968523979187, -0.39271530508995056, 0.009040944278240204, 0.026757460087537766, 0.09317395091056824, 0.5173690915107727, 0.18934562802314758, -0.4400995969772339, 0.6965001225471497, -0.19460754096508026, 0.08284629881381989, 0.3951709568500519, 0.5151025056838989, 0.14655761420726776, -0.054637450724840164, 0.20533882081508636, 0.4355430006980896, 0.2828482389450073, 1.0118789672851562, -0.3792324960231781, 0.22097155451774597, -0.6024960279464722, 0.6687334179878235, 0.6063682436943054, 0.3632188141345978, -0.7283662557601929, 0.7142130136489868, -0.19018693268299103, -0.6088583469390869, 0.22067755460739136, -0.47585880756378174, 0.7581896185874939, 0.11916839331388474, -0.9040839076042175, 0.7728785276412964, 1.2786240577697754, -0.6587861776351929, 0.242147296667099, 0.4142688810825348, 0.2468661516904831, -0.16403254866600037, 0.2306911051273346, -0.211762472987175, -0.11943680793046951, 0.3116932511329651, 0.4150604009628296, 0.050355371087789536, -0.05342315882444382, -0.798433244228363, -0.42144495248794556, 0.28738316893577576, 0.15876621007919312, 0.8624297380447388, -0.8931440114974976, 0.4476582109928131, -0.14150723814964294, -0.6981020569801331, -0.13973678648471832, -0.2696283459663391, 0.02518555521965027, -0.012058470398187637, -0.6147673726081848, -0.010440745390951633, -0.030067579820752144, -0.6349616050720215, -0.22126798331737518, 0.322282999753952, -0.3597142994403839, 0.24238109588623047, -0.3360516428947449, 0.34766098856925964, -1.143307089805603, 0.04369138553738594, -0.06209510564804077, 1.0535792112350464, -0.24279125034809113, 0.24053025245666504, -0.3133770525455475, -0.6131097674369812, 0.7023034691810608, -0.5643389225006104, 0.27396726608276367, -0.2787807583808899, -0.019166763871908188, -0.060404859483242035, -0.6607513427734375, -0.607038676738739, -0.8932471871376038, 0.028192780911922455, 0.08043788373470306, -0.29159024357795715, 0.14261895418167114, 0.3650400638580322, 0.22847424447536469, 0.06641758233308792, -0.6137516498565674, 0.3531591594219208, -0.5219339728355408, 0.16161766648292542, -0.04228276386857033, -0.09820960462093353, -0.3038400411605835, -0.29838284850120544, -0.013206014409661293, -0.1392722725868225, -0.26193898916244507, 0.43940094113349915, 0.3300474286079407, -0.004864582791924477, -1.0617793798446655, -0.01930278167128563, -0.87247633934021, -0.06179622933268547, 0.22138717770576477, 1.4331395626068115, 0.0032306143548339605, 0.5003095269203186, -0.19692286849021912, -0.12757520377635956, -0.19229821860790253, -0.585936427116394, 0.24382781982421875, -0.9509187340736389, -0.013149404898285866, 0.20466360449790955, 0.15103232860565186, -0.050414666533470154, 0.07638820260763168, -0.03951080143451691, 0.703738808631897, 0.6439143419265747, -0.09054864943027496, -0.41283905506134033, -0.4798319339752197, -0.3041003942489624, 0.1723281443119049, 0.3437826633453369, -0.46617165207862854, -0.3087102174758911, -0.32937538623809814, 0.2376159280538559, -0.08652015775442123, 0.16420455276966095, 0.6702147126197815, -0.3674219250679016, -0.10891939699649811, -0.11046984791755676, -0.5307961106300354, -0.4821690022945404, -0.1555134654045105, 0.02945105917751789, -0.012195762246847153, -0.07787686586380005, -0.6793012022972107, -0.3563084006309509, -0.2739260792732239, 0.28466442227363586, 0.6995930075645447, 0.00989496149122715, 0.1929912120103836, -0.5052762031555176, -0.20119816064834595, -0.7498762011528015, 0.1462409496307373, 0.6832301616668701, 1.3082042932510376, -0.1291104406118393, -0.159375861287117, 0.23689624667167664, -0.6542189717292786, -0.208482027053833, -1.1115171909332275, 0.2835768163204193, 0.4270472824573517, -0.014548744075000286, 0.7420344948768616, -0.058890849351882935, 0.3959859013557434, 0.4726310968399048, 0.16140085458755493, -0.43007731437683105, -0.10026086866855621, -0.4638514816761017, 0.2927813231945038, 0.8563421964645386, 0.21339388191699982, 0.5815109610557556, -0.2413771152496338, 0.01786581426858902, 0.6594234108924866, -0.662022054195404, 0.3722985088825226, -0.12849493324756622, -0.9138830304145813, 0.0012144107604399323, 0.18405340611934662, 0.4375486969947815, -0.05440572276711464, -0.781955897808075, 0.3637408912181854, -0.4907143712043762, 0.6152858138084412, -0.3634757995605469, 0.12244532257318497, 0.7703523635864258, -0.2649593949317932, 0.5268323421478271, 0.14219720661640167, -0.13864818215370178, 0.23793834447860718, 0.6798352599143982, -0.29393067955970764, -0.970851480960846, -0.057526227086782455, -0.2165777087211609, 0.45741671323776245, 0.33115896582603455, 0.27951619029045105, 0.14491550624370575, -0.48306116461753845, -0.3078034520149231, 0.18022124469280243, 0.5157666206359863, 0.9061049818992615, 0.5816345810890198, 0.016338586807250977, 0.14114972949028015, 0.43977561593055725, -0.1582721769809723, -0.3378945589065552, 0.08950182050466537, -0.5736909508705139, -0.35642188787460327, 0.3117158114910126, -0.5686259269714355, -0.4728238582611084, 0.386555016040802, 0.48652374744415283, -0.43000027537345886, -0.6280446648597717, 1.2302947044372559, 0.27133867144584656, -0.14678819477558136, 0.08360150456428528, -0.2149103432893753, -0.4530801773071289, -0.10436069965362549, -0.08747890591621399, -0.1420222967863083, -0.5264007449150085, -0.27301138639450073, -0.6512865424156189, 0.25277236104011536, 0.35918447375297546, 0.04101555794477463, 0.24359680712223053, 0.22052280604839325, -0.271127849817276, -0.0465601310133934, 0.4814213812351227, 1.0275813341140747, 1.0403921604156494, -0.5111104846000671, -0.19211533665657043, -0.3708467185497284, -0.719174861907959, -0.18468765914440155, 0.7279765605926514, -0.4337327778339386, -0.37447962164878845, -0.12105357646942139, -0.3852531611919403, 0.6423414945602417, -0.12023191899061203, 0.4403250515460968, -0.06421451270580292, 0.029814450070261955, 0.40438979864120483, 0.46062615513801575, -0.12226878106594086, -0.2518562078475952, 0.6012523770332336, -0.6660923361778259, -0.42697346210479736, -0.2741803824901581, 0.4926556646823883, -1.216127634048462, -0.03847870975732803, 0.8561612963676453, -0.507411777973175, -0.1746426522731781, 0.14119543135166168, 0.8457264304161072, -0.194358229637146, -0.30152657628059387, -0.22884532809257507, 0.8770540356636047, -0.687254011631012, -0.07333122193813324, 0.29656702280044556, 0.20125272870063782, -0.24227769672870636, 0.20811903476715088, 0.346871942281723, 0.49292808771133423, 0.4327428638935089, 0.08034596592187881, 0.4707035720348358, -0.3340006470680237, 0.46248120069503784, -0.14571064710617065, 0.5944520831108093, 0.42166635394096375, -0.007161193527281284, 0.9387032389640808, -0.9425896406173706, 0.008248324505984783, 0.3685169219970703, 0.20560966432094574, 0.35874736309051514, -0.6696966886520386, 0.20734155178070068, 0.08476948738098145, 0.12849152088165283, 0.024447137489914894, -0.20869344472885132, -0.3474176824092865, -0.6237779855728149, 0.11848326772451401, -0.20406748354434967, 0.4958948791027069, -0.14276739954948425, 0.477129191160202, 0.5366730093955994, -0.583682119846344, -0.4232659637928009, 0.6540445685386658, -1.0263453722000122, -0.09782606363296509, -0.23673829436302185, 0.2961183488368988, -0.16229526698589325, -0.0030170369427651167, 0.4293603301048279, 0.24434396624565125, -0.9718384742736816, -0.026775619015097618, -0.8199348449707031, 0.14867794513702393, 0.1449902355670929, -0.12022195011377335, -0.42478829622268677, -0.46231216192245483, 0.14213977754116058, 0.3962733745574951, 0.13059742748737335, 0.396011620759964, -0.378763884305954, -0.08080186694860458, 0.32128235697746277, 0.15239199995994568, -0.45646196603775024, -0.9464276432991028, -0.4913442134857178, -0.2552618682384491, 0.35259106755256653, 0.6723582744598389, -0.2903727889060974, -0.7871972918510437, 0.21633803844451904, 0.2401820868253708, 0.6362634897232056, 0.02247992716729641, 0.17912475764751434, 0.5209961533546448, -0.1557459980249405, 0.24931961297988892, 0.44303444027900696, -0.1621851921081543, 0.09617678821086884, 0.22354495525360107, -0.36369043588638306, 0.7101196646690369, -0.48853665590286255, 0.13533847033977509, -0.4234178364276886, 0.1547791063785553, 0.4324886202812195, 0.19055719673633575, 0.31119072437286377, 0.30086034536361694, -0.5024687051773071, -0.29992246627807617, 0.7324872612953186, -0.08756723254919052, -0.4166397750377655, 0.3626757860183716, 0.19974568486213684, 0.4111279845237732, 0.7099940180778503, 0.6590145826339722, -0.47535738348960876, -0.4566797912120819, -0.06678105145692825, 0.29669907689094543, 0.05686211958527565, -0.5529573559761047, 0.2737399935722351, -0.30323734879493713, 0.6778929233551025, 0.06638236343860626, 0.6001814603805542, 0.751646101474762, 0.29946738481521606, -0.9676617383956909, -0.44969442486763, -0.2933293581008911, -0.3176714777946472, -0.2599169909954071, 0.40980035066604614, -0.014576916582882404, 0.13748928904533386, -0.37524357438087463, -0.5061781406402588, 0.14690105617046356, -0.0937386229634285, -0.37685853242874146, 0.2309868335723877, 0.1530829817056656, 0.5887258052825928, 0.4555909037590027, -0.2815091609954834, -0.13038641214370728, 0.39256995916366577, 0.6575870513916016, 0.0567028746008873, -0.7810817956924438, 0.24898968636989594, 1.1963118314743042, 0.49436724185943604, -0.6169787645339966, -0.642980694770813, -0.17314516007900238, -0.2540680170059204, -0.5542581677436829, -0.6292592883110046, 0.36864033341407776, -0.34840190410614014, -0.12698563933372498, -0.9433062672615051, -0.3145134747028351, -0.2676742374897003, 0.9616736173629761, -0.32199615240097046, -0.19288067519664764, 0.1881849318742752, 0.3168564438819885, 0.4507903754711151, -0.5137947201728821, -0.32869455218315125, 0.10353177785873413, 0.12116405367851257, -0.5256816148757935, -0.14908365905284882, 0.5747023820877075, 0.3732165992259979, 0.3223106265068054, 0.4854731857776642, 0.13641475141048431, -0.5730069875717163, -0.00859950389713049, -1.116439700126648, 0.16170914471149445, 0.16703417897224426, -0.15523414313793182, -0.07723452150821686, 0.28810185194015503, -0.10663460195064545, 0.9640461802482605, -0.9827702045440674, 0.1081572026014328, 0.21412710845470428, -0.6100201606750488, 0.5109109878540039, -0.30468887090682983, 0.6169643402099609, -0.4585422873497009, -0.04361175745725632, -0.3035866618156433, -0.17211472988128662, 0.32211777567863464, 0.10863898694515228, -0.5579661726951599, 0.014919986017048359, 0.3114159107208252, -0.3904038667678833, -0.2931693196296692, -0.41775715351104736, -0.05499211698770523, -0.6197731494903564, -0.5091861486434937, 0.48108434677124023, -0.07223016768693924, 0.5483888387680054, -0.5091442465782166, 0.4400836229324341, -0.0919748842716217, 0.6158317923545837, -0.07532568275928497, -0.11979521811008453, 0.660802960395813, -0.757691502571106, 0.08733098208904266, -0.1839057356119156, -0.5144463181495667, -0.3320539593696594, 0.48765403032302856, -0.3032154142856598, 0.31595125794410706, 0.8703216314315796, -0.18243308365345, 0.5428105592727661, -0.07715194672346115, -0.2788461148738861, -0.21151910722255707, 0.9897152781486511, 0.21860289573669434, -1.118404746055603, 0.5184844136238098, -0.34354692697525024, 0.19547457993030548, 0.460133820772171, -0.4161010980606079, -0.43624332547187805, -0.508138120174408, -0.22537533938884735, -0.08505003899335861, -0.4095737934112549, 0.43419983983039856, -1.1222277879714966, 0.4300646483898163, -0.012335573323071003, 0.8790347576141357, -0.08055531233549118, 0.03979434072971344, -0.11662395298480988, 0.33794403076171875, -0.6090613007545471, -0.12301080673933029, -0.2680913507938385, -0.21775071322917938, 0.07823868095874786, -0.72847980260849, 0.15510113537311554, 0.0938318595290184, 0.6443154215812683, 0.39619359374046326, 0.8676995635032654, 0.19813184440135956, -0.29706934094429016, -0.31144362688064575, 0.8107126951217651, 0.4603264629840851, -0.47276121377944946, 0.3947814106941223, -0.23861536383628845, -0.2642922103404999, 0.40494227409362793, 0.3868821859359741, -1.0936356782913208, 1.0209108591079712, -0.5118514895439148, -0.06893794983625412, -0.3496721088886261, -0.29353004693984985, -0.03958738595247269, 0.11365699768066406, 0.8433367013931274, -0.21675707399845123, 0.550759494304657, -0.3306352198123932, 0.12931327521800995, -0.42873474955558777, -0.7839052677154541, 0.1945665180683136, 0.9595129489898682, 0.026924744248390198, -0.089192233979702, 0.01380473468452692, 0.09904693812131882, -0.5170063376426697, 0.6216003894805908, -0.44418150186538696, -0.10590901225805283, -0.006374852266162634, 0.05656135082244873, -0.08842667937278748, 0.7617610096931458, 0.26607272028923035, -0.10653512179851532, -0.33302298188209534, -0.14353778958320618, -0.25723543763160706, 0.1365639567375183, -0.42043957114219666, 0.4324988126754761, -0.5008724927902222, 1.0534582138061523, 0.7120552659034729, -0.14501124620437622, -0.19427892565727234, -0.6964763402938843, -0.2548551857471466, 0.6648634076118469, -0.3963257670402527, -0.19189128279685974, 0.34162968397140503, -0.16178256273269653, -0.4359447956085205, -0.6193286776542664, -0.1913963258266449, -0.8061713576316833, 1.254135012626648, -0.2896270751953125, 1.0135560035705566, 0.6459674835205078, -0.10451134294271469, 0.27662980556488037, -0.9166578650474548, 0.23633183538913727, 0.7162056565284729, -0.7058485746383667, -0.532978355884552, 0.19335095584392548, 0.2468053549528122, 0.3864290714263916, 0.5465962290763855, -0.5346373319625854, 0.49209100008010864, -0.47859567403793335, -0.11361229419708252, 0.498648464679718, -0.1971210390329361, -0.15243427455425262, -0.6003299355506897, 0.16556905210018158, 0.20661798119544983, -1.0856828689575195, -0.21725542843341827, -0.05689770728349686, 9.462638990953565e-05, -0.667255163192749, 0.6794304847717285, 0.2963230013847351, 0.17950671911239624, -0.22908030450344086, 0.2613099217414856, -0.057466231286525726, 0.6278575658798218, 0.7582237720489502, 0.5057677626609802, 0.36849910020828247, 0.4090059995651245, -0.045320168137550354, -0.16614608466625214, 0.09564494341611862, 0.7628333568572998, 0.06470983475446701, 0.051957737654447556, 0.06728415936231613, -0.36001524329185486, 0.18319371342658997, -0.29765668511390686, 0.7949689030647278, 0.2106577605009079, -0.665437638759613, 0.114656962454319, -0.27784302830696106, 0.17633168399333954, 0.03573155403137207, 0.21770592033863068, -0.009125730022788048, 0.055082764476537704, -0.13005657494068146, -1.4165313243865967, -0.6454096436500549, 0.2959374189376831, 0.17913882434368134, 0.5775551795959473, -0.4528890550136566, 0.26948001980781555, -0.134184330701828, 0.5997947454452515, 0.16811761260032654, 0.05512211099267006, 0.02783903107047081, -0.35975390672683716, -0.6163784861564636, -0.07969395816326141, -0.14424766600131989, 0.08999061584472656, 0.2389899492263794, 0.5468255877494812, -0.2804190218448639, 0.4961203932762146, 0.8030179738998413, -0.22185005247592926, 0.23427283763885498, -0.435685932636261, -0.20478332042694092, -0.4735998213291168, -0.1950785368680954, 0.43139633536338806, 0.051692720502614975, 0.6629440188407898, -0.9445482492446899, -0.5426026582717896, -0.03278040885925293, -0.048247095197439194, 0.7864794135093689, 0.5001996159553528, -0.2587698996067047, -0.6173940896987915, 0.272902250289917, 0.3975525498390198, -0.6078045964241028, 0.7207157015800476, -0.6451746225357056, -0.034916952252388, 0.22744187712669373, 0.14043590426445007, -0.9831779599189758, -0.7266912460327148, -0.7740441560745239, 0.26781362295150757, 0.07096587121486664, 0.6312912106513977, 0.21018578112125397, -0.7252698540687561, 0.7110865116119385, 1.3032968044281006, 0.0073801856487989426, 0.21687275171279907, 0.004751944914460182, -0.002661780919879675, -0.5847170352935791, -0.18657483160495758, -0.20621469616889954, 0.1940266638994217, -0.15097317099571228, -0.4696879982948303, -0.17418304085731506, 0.09487974643707275, 0.1634860336780548, 0.7175636291503906, 0.9763299226760864, -0.5507652163505554, 0.09325987845659256], "query": "#\n\n# Gramps Web API - A RESTful API for the Gramps genealogy program\n\n#\n\n# Copyright (C) 2022      David Straub\n\n#\n\n# This program is free software; you can redistribute it and/or modify\n\n# it under the terms of the GNU Affero General Public License as published by\n\n# the Free Software Foundation; either version 3 of the License, or\n\n# (at your option) any later version.\n\n#\n\n# This program is distributed in the hope that it will be useful,\n\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\n# GNU Affero General Public License for more details.\n\n#\n\n# You should have received a copy of the GNU Affero General Public License\n\n# along with this program. If not, see <https://www.gnu.org/licenses/>.\n\n#\n\n\n\"\"\"Object storage (e.g. S3) handling utilities.\"\"\"\n\n\nfrom typing import BinaryIO, Dict, Optional\n\n\nimport boto3\n\nfrom botocore.exceptions import ClientError\n\nfrom flask import current_app, redirect, send_file\n\nfrom gramps.gen.db.base import DbReadBase\n\n\nfrom ..const import MIME_JPEG\n\nfrom .file import FileHandler\n\nfrom .image import ThumbnailHandler\n\nfrom .util import abort_with_message\n\n\n\ndef get_client(endpoint_url: Optional[str] = None):\n\n    <BODY get_client>\n\n\ndef get_object_name(checksum: str, prefix: Optional[str] = None):\n\n    <BODY get_object_name>\n\n\nclass ObjectStorageFileHandler(FileHandler):\n\n    <BODY ObjectStorageFileHandler>\n\n\ndef upload_file_s3(\n\n    bucket_name: str,\n\n    stream: BinaryIO,\n\n    checksum: str,\n\n    mime: str,\n\n    prefix: Optional[str] = None,\n\n    endpoint_url: Optional[str] = None,\n\n) -> None:\n\n    <BODY upload_file_s3>\n\n\ndef get_object_keys_size(\n\n    bucket_name: str,\n\n    prefix: Optional[str] = None,\n\n    endpoint_url: Optional[str] = None,\n\n) -> Dict[str, int]:\n\n    <BODY get_object_keys_size>", "answer": "{}"}