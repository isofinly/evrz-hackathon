{"embedding": [0.09412553906440735, -0.9374998807907104, -1.3785090446472168, 0.09143944829702377, 0.08142980188131332, -0.2268245667219162, -0.6481878161430359, -0.13503704965114594, 0.17906340956687927, -0.8176353573799133, -0.08713490515947342, -0.5400229096412659, -0.6814197897911072, 0.4702676236629486, -0.37523651123046875, 0.45375436544418335, 0.5389561057090759, 0.33437833189964294, 0.009657790884375572, -0.576927900314331, -0.09163648635149002, 0.38164401054382324, -0.10569743812084198, 0.5053478479385376, -0.269824743270874, 0.046991441398859024, 0.4950425922870636, -0.36823952198028564, 0.2530525028705597, -0.49288249015808105, 0.20285150408744812, -0.44533106684684753, 0.5887665152549744, 0.10458974540233612, -0.5384790897369385, -0.6007616519927979, 0.21960119903087616, 0.6472155451774597, -1.599997639656067, -0.9799948930740356, -0.870299756526947, -0.5172823071479797, 0.3999250829219818, 0.09827687591314316, -0.47232916951179504, -0.33701661229133606, -0.6718698143959045, 0.2527616322040558, 0.8189336061477661, -0.2109631597995758, -0.8971140384674072, -0.45752277970314026, 0.10626765340566635, 0.2546359896659851, -0.626779317855835, 0.2521836459636688, -0.8377473950386047, -0.068946972489357, -0.2295314520597458, -0.7205361127853394, -0.030807403847575188, -0.1460886150598526, 0.4178687334060669, 0.5201902985572815, 0.5641427040100098, 0.5740056037902832, -0.37615805864334106, 0.7368931770324707, -0.01831529475748539, -0.25462672114372253, -0.25267907977104187, -0.4572034776210785, 0.12510013580322266, 0.5108713507652283, 0.3661436438560486, -0.6278627514839172, -0.30317988991737366, -0.2870381474494934, -0.22617873549461365, 0.2813480496406555, 0.3861798942089081, -0.313710480928421, -0.32191577553749084, -0.29633358120918274, 0.07664177566766739, -0.32271894812583923, 0.8201366066932678, -0.18612651526927948, 0.06569613516330719, -0.18362291157245636, -0.7988765239715576, 0.5963618755340576, -0.15778876841068268, 0.3706851601600647, 0.10439664125442505, 0.13658858835697174, -0.12225215137004852, 0.04689277336001396, -0.14003731310367584, -0.7323287725448608, -0.704696774482727, 1.1507669687271118, -0.018816327676177025, 0.5186739563941956, -0.3062856197357178, -0.7869094610214233, -0.19246141612529755, -0.4212888777256012, 1.1191571950912476, 0.010600832290947437, -1.71434485912323, -0.19831837713718414, -0.3514109253883362, -0.013190841302275658, -0.29600581526756287, 0.9157840609550476, 0.23015138506889343, 0.1474616825580597, 0.35318467020988464, -0.08383077383041382, -0.3662637174129486, -0.3605464994907379, -0.6425407528877258, -1.320056438446045, 0.8040899634361267, 0.5317242741584778, 0.1743859201669693, -0.05857046693563461, -0.1730911135673523, -0.8153200149536133, -0.42897307872772217, -0.12422186136245728, 0.38611167669296265, 0.5475112199783325, 0.7551289796829224, 0.11627794802188873, -0.3528093993663788, -0.1388976275920868, -0.03917232155799866, 1.2692389488220215, -0.35277259349823, 0.40169772505760193, -0.08469182997941971, -0.6908687949180603, -0.23417024314403534, -0.34843888878822327, -0.1350788176059723, -0.950966477394104, -0.0029573743231594563, -0.012101594358682632, 0.5382258892059326, -0.3036044239997864, -0.5896414518356323, 0.3856385350227356, -0.40232956409454346, 0.79775071144104, 0.010712649673223495, -0.7339968681335449, 0.2312522530555725, -0.3213481307029724, -0.4669954180717468, -0.3189886510372162, -0.24898475408554077, -0.0859406366944313, -0.25710946321487427, -0.3707251250743866, -0.38527733087539673, 0.04246030002832413, -0.3859359622001648, 0.7326469421386719, -0.6209428906440735, -0.07880561798810959, -0.5996447205543518, -0.8506349325180054, -0.25876906514167786, 0.38666078448295593, 0.12306758016347885, -0.043979525566101074, -0.013595757074654102, -0.15871472656726837, -0.409521222114563, -0.22377637028694153, -1.2791911363601685, -0.5620662569999695, -0.04234946146607399, 0.68194580078125, -0.09889207780361176, 0.6493802666664124, -0.19883549213409424, 0.5931710600852966, -0.991362988948822, -0.3945055902004242, 0.9605559706687927, 0.03345344588160515, -0.7035166621208191, 0.341409295797348, 0.4178347587585449, 0.4887474477291107, -0.3356364965438843, -0.3627188205718994, -0.11003943532705307, 0.8063360452651978, 0.23167651891708374, -0.6514139175415039, -0.4566499888896942, 0.21405933797359467, -0.6262215375900269, 0.07702469080686569, -0.7612045407295227, -0.6807230710983276, -0.8522143959999084, 0.3123035430908203, 0.1615617275238037, 0.28503766655921936, 0.7047666311264038, 0.2796238362789154, 0.16337208449840546, 0.728500485420227, 0.2706771790981293, -0.05531651899218559, 0.6083785891532898, -0.5436183214187622, -0.11501537263393402, -1.0082703828811646, 0.04992267116904259, 0.1009313091635704, 0.3983058035373688, 1.099571943283081, 0.32335910201072693, -0.34010031819343567, 0.055674586445093155, -0.2840186357498169, 0.5509139895439148, 0.15752831101417542, -0.08397079259157181, -0.05144774168729782, 0.11268441379070282, 0.6551005244255066, -0.8461647629737854, 0.11872950941324234, 0.2754540741443634, 0.19898788630962372, -0.20496061444282532, 0.1955043226480484, -0.6813135743141174, 0.0031496109440922737, 0.8098843693733215, -0.660250723361969, 0.19437186419963837, -0.5090295672416687, 0.002016521990299225, -0.6452359557151794, -0.0650721862912178, 0.39178016781806946, 0.5948249697685242, -0.47613614797592163, -0.45325136184692383, 0.02813435159623623, -0.047569260001182556, -0.14385205507278442, -0.03412207216024399, 0.5848959684371948, -0.592217743396759, 1.039202094078064, -0.5225999355316162, 0.4144199788570404, -0.12027999758720398, 0.27316147089004517, 0.6889758110046387, -0.3349890112876892, 1.1532299518585205, 1.3216195106506348, -0.4264352023601532, -0.33645662665367126, 0.14849741756916046, -0.044749319553375244, -0.14287617802619934, 1.0386905670166016, -1.4822709560394287, 0.16256727278232574, -0.15825070440769196, -0.4357297122478485, 0.1623503714799881, -0.07154500484466553, 0.02952502854168415, -0.3456748425960541, -0.6514716148376465, 0.49704205989837646, -0.13969430327415466, -0.6094194650650024, 0.44930461049079895, 0.4978923797607422, 0.5171618461608887, 0.20131169259548187, 0.2017793357372284, 0.6050347089767456, -0.28487473726272583, 0.22792720794677734, 0.8399896621704102, -0.4791485667228699, 0.2579493820667267, -0.06952282786369324, 1.1638263463974, -0.873360276222229, -0.4788120687007904, -0.157642662525177, 0.4132877290248871, -0.5013951659202576, 0.15407800674438477, -0.12403671443462372, -0.5422874689102173, -0.31222137808799744, 0.9198915362358093, 0.15619850158691406, -0.6475641131401062, 0.5127008557319641, 0.35482314229011536, -0.22790181636810303, 0.45720815658569336, 0.2742089629173279, -0.37571629881858826, 0.6806811094284058, 0.8769606947898865, -0.42996808886528015, -0.02955291047692299, -1.0055692195892334, 0.7850934267044067, 0.5536964535713196, 0.5181633830070496, -0.7612415552139282, 0.08041346818208694, -0.1039610430598259, 0.08200405538082123, -0.48142847418785095, -0.7247732877731323, 0.04455909505486488, -0.13735602796077728, 0.04764103144407272, 0.6431122422218323, -0.740851879119873, 0.5954766869544983, -0.5842875242233276, -0.03212686628103256, 0.6521828174591064, 0.6272858381271362, -0.1920800656080246, 0.5656082034111023, -0.21866314113140106, 0.3047483563423157, -0.3513096868991852, 0.11371857672929764, 0.39150118827819824, 0.47801342606544495, 0.4912981688976288, 0.4445165693759918, -0.3164356052875519, -0.1482207179069519, -0.9258769154548645, 0.05610205605626106, -0.4987945556640625, -0.6497296094894409, -0.6314142942428589, -0.8461786508560181, 0.5285207033157349, -0.11281850188970566, -0.4947414696216583, 0.7339105010032654, -0.20942753553390503, 0.8545078039169312, 0.017992742359638214, -0.15189678966999054, -0.6713671088218689, -0.32196879386901855, 0.7318502068519592, -0.3479413390159607, 0.3496074378490448, -0.5889859199523926, -0.15310457348823547, -1.2865023612976074, 1.000946044921875, 0.4805680215358734, 0.4206888675689697, 0.4604155421257019, -0.0016037581954151392, 0.8123485445976257, -0.9594759345054626, 0.0583815798163414, 0.349574476480484, -0.12293726205825806, 0.38794511556625366, 0.6392308473587036, -0.4914828836917877, 0.2697766423225403, 0.28220444917678833, -0.07091563194990158, -0.04325832054018974, -0.23835010826587677, -0.14863745868206024, -0.3415915071964264, -0.4800926744937897, 0.3746798038482666, 0.07399791479110718, 0.2000969797372818, 0.3846484124660492, -0.24147720634937286, 0.4118804633617401, 0.628513753414154, 0.7709584832191467, -0.20949837565422058, 0.7516692280769348, -0.35144779086112976, 0.13252587616443634, -0.6215668320655823, -0.13566525280475616, -0.7040467262268066, 0.14039602875709534, 0.3088610768318176, 0.3374749422073364, -0.25715336203575134, 0.822094202041626, 0.97183758020401, -0.17019663751125336, 1.298719048500061, 0.6783268451690674, -0.10705301910638809, 0.4472813606262207, -0.08706330507993698, -0.03302473947405815, -0.6686275005340576, -0.533226490020752, -0.7354490160942078, -0.1878434419631958, -0.08471947908401489, -0.8542770147323608, -0.3039650022983551, 0.41521891951560974, -0.5760033130645752, -0.6088424324989319, 0.3326837718486786, 0.13657324016094208, 0.8441219329833984, -0.1742786467075348, 0.5620648860931396, 0.4612472951412201, 0.8295809030532837, -0.5232040286064148, -0.9791580438613892, 0.19605474174022675, 0.568888247013092, -0.04547125846147537, -0.04104553163051605, 0.16373805701732635, 0.7864378094673157, 0.10411860048770905, 0.27627843618392944, -0.47106242179870605, -0.356435090303421, 0.8044044971466064, -0.3432195484638214, 0.07573099434375763, 0.13224470615386963, 0.43559375405311584, 1.0246390104293823, 0.41507723927497864, 0.4063039720058441, 0.5219721794128418, 0.2443278431892395, 0.16130812466144562, -0.7408316731452942, -0.24943646788597107, -0.48860809206962585, -0.11927081644535065, 0.41919177770614624, -0.5502266883850098, 0.653852641582489, -0.2729837894439697, -0.006034212652593851, -0.46419116854667664, 0.09308242052793503, -0.43946900963783264, 0.6141283512115479, -1.4305312633514404, 0.35334116220474243, 0.7111411690711975, -0.3399064838886261, -0.24453149735927582, 0.2068915069103241, -0.1418408453464508, -0.2591813802719116, -0.8778961300849915, -0.5801110863685608, 0.7234025597572327, 0.7047663331031799, -0.3090844452381134, 0.5348161458969116, 0.224444180727005, 0.208480104804039, 0.13790978491306305, 0.006494684144854546, -0.6820698380470276, 0.2197556346654892, -0.32332471013069153, -0.2148522138595581, -0.4588718116283417, 0.3117772042751312, 0.3767485022544861, -0.41981807351112366, -0.5191534757614136, -0.6145308017730713, 0.19480112195014954, -0.7376819252967834, -0.428442120552063, 0.9407531023025513, -0.6583475470542908, -0.327809602022171, 0.1985653191804886, 0.12667995691299438, -0.08925970643758774, 0.37316152453422546, -0.007938179187476635, 0.4991448223590851, -0.6283154487609863, 0.05700354650616646, -1.0099890232086182, 0.3571667969226837, 0.12972649931907654, 0.19379524886608124, 0.3527323305606842, 0.06273705512285233, 0.9204834699630737, 0.07396615296602249, 0.5757671594619751, 0.6601116061210632, 0.17050252854824066, -0.06370160728693008, 0.04588146507740021, -0.24579228460788727, -0.859595775604248, 0.8032333254814148, 0.5470535755157471, -0.42628511786460876, 0.8342689871788025, -0.9162885546684265, -0.13368593156337738, 0.31501802802085876, -0.30598893761634827, -0.24367430806159973, 0.5767251253128052, -0.14181338250637054, 0.012054218910634518, -0.17470860481262207, 0.07826180756092072, -0.040914710611104965, -0.3077858090400696, -0.5474034547805786, 0.0072395591996610165, 0.19051973521709442, -0.38444799184799194, 0.6725132465362549, 0.1823386698961258, -0.08627398312091827, -0.35899481177330017, -0.8777793049812317, -0.22448481619358063, 0.13371415436267853, 0.8241740465164185, -0.0597505196928978, 0.38779276609420776, -0.24609771370887756, -0.03809736296534538, 0.6685306429862976, -0.40005791187286377, 0.6629162430763245, -0.3140557110309601, -0.34424158930778503, -0.03279222920536995, 0.05460008233785629, -0.17078150808811188, 0.3920179009437561, 0.23009873926639557, 0.5136367678642273, 0.5400291681289673, -0.1367642879486084, -0.5051040053367615, 0.33184167742729187, 0.3150950074195862, 0.7454366683959961, 0.4503253698348999, 0.017924850806593895, 0.1203063353896141, -0.6883554458618164, 0.5415776371955872, 0.22218304872512817, -0.1532687097787857, 0.03458760306239128, 0.9424689412117004, -0.46718254685401917, -0.1948474943637848, 0.07764249294996262, -0.21178334951400757, -0.8856074810028076, 0.2856813371181488, -0.4324425458908081, -0.019123658537864685, 0.2080281525850296, -0.016447801142930984, -0.6512950658798218, -0.13957884907722473, 0.23219405114650726, 0.5571098923683167, -0.11202827095985413, -0.8022106289863586, -0.4380171298980713, 0.2412899285554886, -0.3989962637424469, -0.29879021644592285, 0.5622427463531494, 0.8064677715301514, 1.5997698307037354, -0.34973400831222534, -0.31686660647392273, -0.5071782469749451, -0.21680213510990143, -0.1552392691373825, -0.534663736820221, 0.23644541203975677, -0.15177538990974426, -0.7704282402992249, -0.4600486755371094, 0.20530276000499725, -0.1988704651594162, 0.11176034063100815, -0.0460713654756546, 0.22657249867916107, 0.7756255865097046, 0.16485565900802612, 0.9188792705535889, -0.16168247163295746, -0.5759411454200745, 0.41415050625801086, -0.7375521063804626, 0.28293344378471375, -0.293769896030426, -0.021425265818834305, 0.14897982776165009, 0.873304009437561, -0.6458778977394104, 0.3816350996494293, 1.0547314882278442, 0.4890762269496918, -0.25983619689941406, 0.7021433115005493, -0.09801363199949265, 0.3518677353858948, -0.6566662788391113, 0.14701902866363525, -0.35141706466674805, 0.09699746966362, 0.3836601674556732, -0.48976749181747437, -0.2536415457725525, -0.03537670895457268, 0.24444051086902618, -0.6730217933654785, -0.35529375076293945, -0.22199049592018127, 0.2597160339355469, -0.4455606937408447, 0.9305126070976257, 0.32367804646492004, 0.31864073872566223, -0.11768434941768646, 1.040131688117981, 0.3928724229335785, 0.2099943459033966, 0.6535415649414062, 0.27955925464630127, 0.4492607116699219, 0.4925013482570648, 0.18139934539794922, -0.3627832531929016, 0.3629528880119324, -0.3270125985145569, 0.0800083577632904, -0.031709522008895874, 0.40296393632888794, 0.5095325112342834, 0.652496874332428, 0.07432705909013748, -0.12060727179050446, -0.6582148671150208, 0.059327565133571625, -0.09148388355970383, 0.25593119859695435, 0.10801075398921967, -0.42223548889160156, -1.199517011642456, -1.1342402696609497, -0.32786738872528076, 0.17417995631694794, 1.2062937021255493, 0.0707995742559433, 0.04444650933146477, -0.41553252935409546, -0.12250273674726486, 0.5528932809829712, -0.43330755829811096, -0.010581455193459988, -0.6627746820449829, 0.05213741213083267, 0.8108342885971069, 0.15320387482643127, 1.24026358127594, 0.10145271569490433, 0.9000172019004822, 0.36191803216934204, 0.0701797679066658, 0.6427889466285706, -0.33596986532211304, 0.22359450161457062, 0.09441711008548737, -0.23214343190193176, 0.9070323705673218, -0.26141148805618286, 0.08242233842611313, -0.5673232674598694, -0.789136528968811, -0.12254651635885239, 0.7874557375907898, 0.293295681476593, -0.5440054535865784, -0.7996196150779724, -0.942261815071106, 0.27081361413002014, 0.06860105693340302, -0.7521111965179443, 0.42719313502311707, -0.36110061407089233, -0.2273721992969513, -0.6158483028411865, -0.09503420442342758, -0.05653990060091019, -0.6690977811813354, -0.10338685661554337, -0.6124682426452637, 0.2696194350719452, 0.715465247631073, -0.9231458306312561, 0.2319895625114441, 0.23927295207977295, 1.41019868850708, 0.15704482793807983, 0.767794668674469, 0.16906751692295074, 0.2473246455192566, 0.4266873896121979, 0.6823657751083374, 0.3543856143951416, -0.33912724256515503, 0.11886150389909744, 0.1377532184123993, -0.5847602486610413, 0.43407678604125977, 0.08455688506364822, 0.07255857437849045, -0.2542720139026642, -0.204251229763031, 0.005657074507325888], "query": "\"\"\"Functions for working with large language models (LLMs).\"\"\"\n\n\nfrom __future__ import annotations\n\n\nfrom flask import current_app\n\nfrom openai import OpenAI, RateLimitError, APIError\n\n\nfrom ..search import get_search_indexer\n\nfrom ..util import abort_with_message, get_logger\n\n\n\ndef get_client(config: dict) -> OpenAI:\n\n    <BODY get_client>\n\n\ndef answer_prompt(prompt: str, system_prompt: str, config: dict | None = None) -> str:\n\n    <BODY answer_prompt>\n\n\ndef answer_prompt_with_context(prompt: str, context: str) -> str:\n\n\n    <BODY answer_prompt_with_context>\n\n\ndef contextualize_prompt(prompt: str, context: str) -> str:\n\n\n    <BODY contextualize_prompt>\n\n\ndef retrieve(tree: str, prompt: str, include_private: bool, num_results: int = 10):\n\n    <BODY retrieve>\n\n\ndef answer_prompt_retrieve(\n\n    prompt: str,\n\n    tree: str,\n\n    include_private: bool,\n\n    history: list | None = None,\n\n) -> str:\n\n    <BODY answer_prompt_retrieve>", "answer": "{}"}