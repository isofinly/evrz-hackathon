{"embedding": [-0.0942792221903801, -0.07633400708436966, -1.5708949565887451, -0.2849610447883606, -0.154741108417511, -0.4561592638492584, -0.16159315407276154, 0.17068937420845032, -0.019437605515122414, -0.46575361490249634, -0.6432874798774719, -0.2272597700357437, 0.4616164267063141, 0.43872231245040894, 0.19103842973709106, 0.7523914575576782, 0.2740570902824402, -0.1124093309044838, 0.03987354785203934, -0.8367295861244202, 0.5318921804428101, -0.4710734188556671, -0.27572059631347656, -0.0341152548789978, -0.237380251288414, 0.3691493570804596, 0.12354199588298798, -0.024452166631817818, -0.35243937373161316, 0.06477733701467514, 0.6727426052093506, -0.4442777931690216, 0.43020039796829224, -0.283852756023407, -0.39726021885871887, -0.398330956697464, -0.6525239944458008, 0.1407766044139862, -1.057422399520874, 0.3377518951892853, -0.010823233053088188, 0.4357627034187317, -0.2694303095340729, -0.4111170172691345, 0.6143023371696472, -0.09217128157615662, -0.27255916595458984, 0.20296014845371246, 0.07394883781671524, -0.43348732590675354, -0.44563791155815125, -0.02584107220172882, -0.0398610420525074, 0.5623151063919067, 0.054513394832611084, 0.3138079345226288, -0.3363916575908661, 1.4645729064941406, 0.35878562927246094, -0.6879419684410095, 0.18659889698028564, 0.30626344680786133, 0.007852342911064625, -0.33886635303497314, 0.5711905360221863, -0.43595901131629944, 0.10518629848957062, -0.7032279372215271, -0.18102790415287018, -0.01856267638504505, 0.020776230841875076, 0.5010731220245361, -0.09997045248746872, 0.3574632406234741, 0.2135012149810791, -0.3608317971229553, 0.06560207158327103, -0.5102947950363159, 0.24153344333171844, -0.3522360026836395, 1.0145026445388794, -0.12271862477064133, -0.49372708797454834, -0.037128474563360214, 0.3994835317134857, -0.24526067078113556, 0.32590875029563904, -0.22092165052890778, -0.9198682308197021, 0.21019093692302704, -0.3421035706996918, 0.03235900029540062, -0.4836280941963196, -0.22768382728099823, 0.24563871324062347, -0.11461561918258667, -0.4816233813762665, -0.27500781416893005, -0.5389243364334106, -0.07700780034065247, 0.18668422102928162, -0.12299101054668427, -0.5049075484275818, 0.7818170785903931, 0.1607387214899063, -0.019741898402571678, 0.11803870648145676, -0.19197002053260803, -0.32298120856285095, 0.1342812329530716, -0.6049414277076721, -0.11086516082286835, -0.5414696335792542, -0.4091090261936188, -0.06855393201112747, 0.5822303295135498, 0.21351483464241028, 0.5181969404220581, 0.43971213698387146, -1.1109144687652588, 0.098397396504879, -0.6568513512611389, -0.10122121870517731, -0.19373856484889984, 0.29160574078559875, 0.4260360300540924, -0.3609962463378906, 0.6068214178085327, -0.20226795971393585, -0.07251749187707901, -0.8591949939727783, 0.08906890451908112, -0.4327419102191925, -0.13322851061820984, 0.5211266875267029, -0.5295135974884033, 0.032055292278528214, 0.23862050473690033, -0.1623641848564148, 0.7752149701118469, -0.01644342765212059, 0.34137237071990967, -0.0023376657627522945, -0.3953709006309509, -0.4289216101169586, -0.47150948643684387, 0.07771439105272293, 0.6144358515739441, -0.12401431798934937, 0.41023409366607666, 0.38824787735939026, -0.4111420810222626, -0.18263711035251617, 0.4369218051433563, 0.29666295647621155, 0.34409797191619873, -0.6119993925094604, -0.5186707377433777, 0.3209751844406128, -0.021313555538654327, -0.4532567262649536, -0.45512253046035767, 0.03354053199291229, -0.8895249962806702, -0.445692777633667, 0.4087219834327698, 0.4491913616657257, -0.4194139838218689, 0.04044978693127632, 0.6290883421897888, -0.03256995230913162, -0.09017060697078705, 0.015849119052290916, -0.18172241747379303, 0.415061891078949, 0.5717422366142273, 0.6567114591598511, 0.24604810774326324, 0.19941368699073792, 0.02942073903977871, 0.17566747963428497, -1.2276607751846313, -0.09750731289386749, -0.24294927716255188, -0.28860846161842346, 0.02511873096227646, -0.3484691381454468, 0.06789172440767288, 0.06345372647047043, 1.0796167850494385, -0.8039023876190186, 0.04757833108305931, -0.1967047154903412, -0.15820230543613434, -0.3929664194583893, 0.18592682480812073, -0.4473157227039337, 0.06594253331422806, -0.15571603178977966, -0.7350195646286011, -0.5385023951530457, 0.8041462302207947, -0.6058779358863831, -0.4542401134967804, 0.24237936735153198, 0.5160021781921387, -0.07957606017589569, 0.119725801050663, -0.13150376081466675, -0.9080923199653625, -0.9850929379463196, 0.2688954472541809, -0.057418882846832275, -0.4728902280330658, 0.24175311625003815, -1.2516531944274902, 0.5681862831115723, -0.010021802969276905, -0.015776149928569794, -0.014136861078441143, 0.287420392036438, -0.9249311685562134, -0.7995591759681702, -0.9603704810142517, -0.06690987944602966, 0.22602151334285736, 0.3580780029296875, 0.5093334317207336, 0.01486755721271038, -0.07166343927383423, -0.05839097499847412, -0.2930411994457245, -0.09583833068609238, -0.10199930518865585, 0.45529043674468994, 0.29442280530929565, 0.04282855615019798, 0.4606557786464691, -0.3797336518764496, 0.506179928779602, 0.4787531793117523, 0.2077239453792572, -0.0685313269495964, -0.10697092860937119, 0.06295926123857498, -0.5464005470275879, 0.19723929464817047, -0.1764473021030426, -0.4881356358528137, -0.32393306493759155, 0.039706651121377945, -0.10280267894268036, -0.02785419672727585, 0.5100316405296326, -0.5447461605072021, -1.004889965057373, -0.6440675258636475, 0.1850232034921646, 0.22834686934947968, -0.32432472705841064, 0.07427703589200974, -0.23764871060848236, -0.8078193664550781, 1.005703330039978, 0.2114514410495758, 0.08206736296415329, 0.10037748515605927, -0.10281486064195633, -0.012907774187624454, -0.07912978529930115, -0.12189510464668274, 0.22338399291038513, -0.4587819278240204, -0.4020874798297882, -0.13326214253902435, -0.27993693947792053, 0.2403622567653656, 0.02384623885154724, -0.24390260875225067, -0.6858822703361511, -0.08392985165119171, -0.37962934374809265, 0.711815357208252, 0.5054501295089722, 0.5631448030471802, -0.7764065265655518, 0.47308602929115295, 1.0224740505218506, -0.25386783480644226, -0.14446516335010529, 0.6289788484573364, 0.26073235273361206, 0.2519603967666626, -0.06824779510498047, 0.434499055147171, 0.6322019696235657, -0.005199693609029055, 0.1061398908495903, 0.007509812247008085, -0.35423365235328674, 0.7368319630622864, 0.34709030389785767, 1.8701092004776, 0.07829200476408005, -0.7748672366142273, -0.356952041387558, 0.21161618828773499, -0.43088775873184204, 0.4704725742340088, -0.32152730226516724, -0.1425389051437378, -0.14414319396018982, 0.16380876302719116, 0.43576622009277344, -0.16558586061000824, 0.1607922613620758, -0.49669861793518066, 0.08313870429992676, 0.3585645258426666, 0.6244003176689148, -0.41419997811317444, 0.31282734870910645, 1.1995980739593506, -0.29181525111198425, 0.6285697817802429, -0.8103904724121094, -0.10175995528697968, 0.34240153431892395, 0.33658620715141296, 0.24930062890052795, -0.6636895537376404, -0.5697963237762451, -0.015733422711491585, 0.6610085964202881, -0.3579212427139282, -0.07760243862867355, -0.4816541373729706, -0.8008559346199036, 0.03391934931278229, -0.969819962978363, 0.46263688802719116, -0.07098411023616791, 0.33873307704925537, 0.11637969315052032, 0.7038936018943787, -0.2227337807416916, 0.6316656470298767, 0.1852748692035675, 0.20431847870349884, -0.36915960907936096, 0.07176688313484192, 0.2050577849149704, 0.4818185567855835, 1.0268510580062866, 0.2317638248205185, -0.9843024015426636, 0.3367305099964142, -1.2346895933151245, -0.03383086621761322, 0.2623755633831024, -0.0670190379023552, -0.011850306764245033, -0.07122205197811127, 0.20515133440494537, 0.010862487368285656, 0.12723203003406525, 0.34568464756011963, -0.9589387774467468, 0.5408279299736023, -0.08369365334510803, -0.45565927028656006, 0.09392501413822174, -0.11011863499879837, 0.03605635091662407, -0.37290140986442566, -0.006486722268164158, 1.4314155578613281, 0.2539529800415039, -0.7489751577377319, 0.10925909876823425, 0.4110054671764374, 0.736438512802124, -0.007161871064454317, 0.4704262316226959, 0.30855870246887207, -0.8568543195724487, 0.4482323229312897, -0.07466953247785568, -0.16505810618400574, -0.4095228314399719, 0.41938039660453796, -0.3971870243549347, 0.42793697118759155, -0.15529723465442657, -0.809289813041687, -0.7294843196868896, 0.28689044713974, 0.011926543898880482, 0.5179269313812256, -0.07758735865354538, 0.5006037950515747, 0.15760785341262817, 0.3422127962112427, 0.09272834658622742, 0.12608648836612701, -0.5646294355392456, 0.4970925748348236, 0.11783287674188614, -0.06515942513942719, 1.2535772323608398, 0.3004333972930908, -0.1939377635717392, -0.5869489908218384, -0.1779441237449646, 0.2631998658180237, -0.7993214726448059, -0.5335794687271118, 0.37757235765457153, -0.15017114579677582, 0.5207412838935852, 0.3061540722846985, 0.3610927164554596, 0.6987667679786682, 0.5550130009651184, -0.3180316388607025, -0.42151862382888794, -0.1258237659931183, 0.6307020783424377, -0.4577583968639374, 0.19415979087352753, 0.6106593608856201, 0.20737984776496887, -0.271524041891098, -1.3586399555206299, 0.11109794676303864, -0.21555091440677643, -0.15694062411785126, 0.14763599634170532, 0.25942036509513855, -0.12250574678182602, 0.9497653841972351, 0.31298092007637024, 0.8255825042724609, -0.27910345792770386, 0.7129726409912109, -0.2538149952888489, -0.8046723008155823, 0.01057692151516676, 1.1126903295516968, -0.5003510117530823, -0.7703455090522766, 0.31731751561164856, 0.24015922844409943, 0.056860700249671936, -0.5927298069000244, -0.8265271186828613, 0.32849183678627014, -0.4639425277709961, -0.7177749872207642, -0.3094030022621155, -0.19012580811977386, -0.4857715964317322, 0.009327140636742115, 0.06388787180185318, 0.17569108307361603, 0.11486207693815231, 0.12676723301410675, 0.029238775372505188, -0.9626710414886475, -0.03716195374727249, 0.06677950173616409, 0.4267686903476715, 0.24862749874591827, -0.2737284004688263, -0.15269576013088226, 0.08858895301818848, 0.16350045800209045, -0.24387669563293457, 0.33799296617507935, 0.2343701422214508, 0.9939560294151306, -0.5720630288124084, 0.4736805558204651, 0.32349926233291626, -0.24419768154621124, -0.01915094628930092, -0.028658008202910423, 0.11152639240026474, -0.3243890702724457, 0.092681385576725, -0.30339404940605164, -0.3579529821872711, 0.019023610278964043, 0.23805110156536102, -0.3389025330543518, 0.06601785123348236, 0.7121562361717224, 0.12173207849264145, 1.0041967630386353, -0.28354355692863464, -0.10801156610250473, -0.20675335824489594, 0.3149901330471039, -0.0783403217792511, 0.3464599847793579, 0.4058493375778198, -0.05049446225166321, 0.09040143340826035, -0.33073821663856506, -0.30459120869636536, 0.09904786199331284, -0.43930843472480774, 1.2510943412780762, 0.06395082920789719, -0.48344871401786804, 0.0786382332444191, 0.37920188903808594, 0.6609658002853394, -0.17248591780662537, -0.226072296500206, 0.6107068061828613, -0.23200179636478424, 0.7356287837028503, -0.13826799392700195, -0.28627678751945496, -0.1609528511762619, 0.05419495701789856, -0.06427730619907379, -0.18236389756202698, 0.180291548371315, 0.8128441572189331, 0.36122336983680725, 0.5981467366218567, -0.3371272087097168, -0.11973544955253601, 0.8502985835075378, -0.6402164101600647, -0.8850276470184326, 0.2857508361339569, 0.6328875422477722, 0.5332275032997131, 0.23163285851478577, -0.2792300879955292, 0.5749456882476807, -0.09799467027187347, -0.7847228050231934, 0.054433371871709824, -0.16653433442115784, 0.6411548256874084, -0.4625534117221832, -0.02596033737063408, 0.17080536484718323, 0.3094840347766876, 0.024225778877735138, -1.02225923538208, -0.003914787899702787, 0.08461346477270126, -0.00014844423276372254, 0.5865435600280762, 0.17267201840877533, -0.2295948565006256, -0.18687006831169128, -0.499860554933548, -0.12271513044834137, -0.6090200543403625, 0.5735870599746704, 0.07947862893342972, 0.6923608183860779, -0.07875454425811768, 0.22798657417297363, 0.3674418330192566, -0.09415161609649658, 0.3258011043071747, 0.01573801599442959, 0.3083277642726898, 0.11119689047336578, -0.18327748775482178, -0.14939789474010468, 0.08519089221954346, -0.3939349353313446, 0.6754506826400757, -0.5984752178192139, -0.01936865784227848, -1.3446489572525024, -0.24276241660118103, 0.6836598515510559, 0.2884105145931244, 0.8527528643608093, 0.7943801283836365, 0.1494603157043457, -0.5549250841140747, 0.5534403920173645, 0.046058524399995804, -0.13861669600009918, 0.6087620258331299, 0.6167681217193604, -0.30280524492263794, -0.2861455976963043, -0.9022039771080017, 0.12445592880249023, -0.5099100470542908, 0.7479650378227234, -0.20146897435188293, -0.2729194462299347, 0.5005178451538086, -0.6668205857276917, 0.18724460899829865, -0.1848086714744568, -0.4860498309135437, 0.15303462743759155, -0.1866428405046463, 0.0474461168050766, 0.35718047618865967, 0.41290542483329773, 0.5555238723754883, -0.3507448732852936, -0.35216137766838074, 0.6301515698432922, 0.5421280264854431, -0.7917148470878601, 0.15023674070835114, -0.1705523431301117, -0.17490032315254211, 0.3778490424156189, -0.5180008411407471, -0.1172909364104271, 0.6060640215873718, -0.6205762028694153, -0.4466884732246399, -0.9121342897415161, 0.036573443561792374, -0.04926445707678795, -0.582228422164917, -0.6712661981582642, 0.5890661478042603, 0.48686304688453674, 0.4036482572555542, -0.23717930912971497, -0.19661042094230652, 0.24075287580490112, -0.27154290676116943, -0.2802223861217499, -0.1727575808763504, 0.29209643602371216, -0.1756695657968521, 1.4049527645111084, -0.470188707113266, -0.21224744617938995, 0.5320998430252075, 0.4187797009944916, 0.18944112956523895, 0.29882851243019104, -0.3582114279270172, 0.19734354317188263, -0.05718674510717392, 0.9864304661750793, -0.45014679431915283, -0.9072716236114502, 0.019523650407791138, 0.35150429606437683, 0.06676243245601654, -0.13498015701770782, 0.0016416014404967427, -0.3308931887149811, -0.42534756660461426, -0.1860905885696411, -0.5268213748931885, -0.19288824498653412, 0.7271388173103333, 1.0447895526885986, -0.21576760709285736, 0.06373228132724762, 0.8345678448677063, 0.26374468207359314, 0.1260025054216385, 0.05808496102690697, 0.04371452331542969, 0.690605103969574, -0.061780452728271484, -0.12256066501140594, -0.23341220617294312, 0.2642994821071625, -0.5172420740127563, 0.299191415309906, -0.0341222882270813, -0.032797809690237045, -0.15482772886753082, -0.3112185597419739, 0.20127752423286438, 0.4273048937320709, 0.583785891532898, -0.0776604637503624, -0.5873364210128784, 0.16472484171390533, -0.5728520750999451, -1.183141827583313, -0.8156212568283081, -0.3583109378814697, 0.330916166305542, 0.1051621362566948, 0.3366730213165283, 0.040235485881567, 0.7585241198539734, 0.39165210723876953, -0.40499454736709595, 0.20772454142570496, -0.2599480152130127, -0.27633583545684814, 0.6474946737289429, 0.08002134412527084, -0.061375975608825684, 0.40088480710983276, 1.1050113439559937, -0.26673105359077454, 0.4959598779678345, -0.4537745416164398, 0.2428136020898819, 0.5275387167930603, 0.19257168471813202, -0.29339030385017395, -0.008835316635668278, 0.40458017587661743, 0.5231178998947144, -0.5372011065483093, 0.42457449436187744, 0.0619228333234787, 0.4112566411495209, -0.2462395280599594, 0.32187503576278687, -0.259447306394577, 0.29599979519844055, -0.11542269587516785, -0.6486261487007141, 0.09560705721378326, 0.8611414432525635, -0.3651769161224365, 0.07110926508903503, -0.012471700087189674, 0.17055591940879822, -0.14745424687862396, -0.34659749269485474, -0.08153984695672989, -0.5510677695274353, -0.8897414803504944, 0.0056205191649496555, 0.39405637979507446, 0.320976585149765, -0.5494378209114075, -0.08794444799423218, -0.11358219385147095, 1.2848048210144043, -0.20459051430225372, -0.1317477822303772, -0.22195430099964142, -0.12430750578641891, -0.13205267488956451, -0.19521580636501312, 0.32901036739349365, 0.1595747470855713, -0.03036447800695896, -0.4588095545768738, 0.44257545471191406, -0.5327454209327698, 0.1653689593076706, 0.7741144299507141, 0.8554745316505432, -0.4146111309528351, 0.5209116339683533], "query": "#\n\n# Gramps Web API - A RESTful API for the Gramps genealogy program\n\n#\n\n# Copyright (C) 2020      Christopher Horn\n\n#\n\n# This program is free software; you can redistribute it and/or modify\n\n# it under the terms of the GNU Affero General Public License as published by\n\n# the Free Software Foundation; either version 3 of the License, or\n\n# (at your option) any later version.\n\n#\n\n# This program is distributed in the hope that it will be useful,\n\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\n# GNU Affero General Public License for more details.\n\n#\n\n# You should have received a copy of the GNU Affero General Public License\n\n# along with this program. If not, see <https://www.gnu.org/licenses/>.\n\n#\n\n\n\"\"\"Timeline API resources.\"\"\"\n\nfrom typing import Dict, List, Optional, Set, Tuple, Union\n\n\nfrom flask import abort\n\nfrom gramps.gen.config import config\n\nfrom gramps.gen.const import GRAMPS_LOCALE as glocale\n\nfrom gramps.gen.db.base import DbReadBase\n\nfrom gramps.gen.display.place import PlaceDisplay\n\nfrom gramps.gen.errors import HandleError\n\nfrom gramps.gen.lib import Date, Event, EventType, Person, Span\n\nfrom gramps.gen.relationship import get_relationship_calculator\n\nfrom gramps.gen.utils.alive import probably_alive_range\n\nfrom gramps.gen.utils.db import (\n\n    get_birth_or_fallback,\n\n    get_death_or_fallback,\n\n    get_divorce_or_fallback,\n\n    get_marriage_or_fallback,\n\n)\n\nfrom gramps.gen.utils.grampslocale import GrampsLocale\n\nfrom webargs import fields, validate\n\n\nfrom ...types import Handle\n\nfrom ..util import get_db_handle, get_locale_for_language, use_args\n\nfrom . import ProtectedResource\n\nfrom .emit import GrampsJSONEncoder\n\nfrom .filters import apply_filter\n\nfrom .util import (\n\n    get_person_profile_for_object,\n\n    get_place_profile_for_object,\n\n    get_rating,\n\n)\n\n\npd = PlaceDisplay()\n\ndefault_locale = GrampsLocale(lang=\"en\")\n\nevent_type = EventType()\n\n\nDEATH_INDICATORS = [\n\n    event_type.DEATH,\n\n    event_type.BURIAL,\n\n    event_type.CREMATION,\n\n    event_type.CAUSE_DEATH,\n\n    event_type.PROBATE,\n\n]\n\n\nRELATIVES = [\n\n    \"father\",\n\n    \"mother\",\n\n    \"brother\",\n\n    \"sister\",\n\n    \"wife\",\n\n    \"husband\",\n\n    \"son\",\n\n    \"daughter\",\n\n]\n\n\nEVENT_CATEGORIES = [\n\n    \"vital\",\n\n    \"family\",\n\n    \"religious\",\n\n    \"vocational\",\n\n    \"academic\",\n\n    \"travel\",\n\n    \"legal\",\n\n    \"residence\",\n\n    \"other\",\n\n    \"custom\",\n\n]\n\n\n\n# A timeline item is a tuple of following format:\n\n#\n\n# (Event, Person, relationship)\n\n#\n\n# A timeline may or may not have a anchor person. If it does relationships\n\n# are calculated with respect to them.\n\n\n\nclass Timeline:\n\n    <BODY Timeline>\n\n\ndef prepare_events(args: Dict):\n\n    <BODY prepare_events>\n\n\nclass PersonTimelineResource(ProtectedResource, GrampsJSONEncoder):\n\n    <BODY PersonTimelineResource>\n\n\nclass FamilyTimelineResource(ProtectedResource, GrampsJSONEncoder):\n\n    <BODY FamilyTimelineResource>\n\n\nclass TimelinePeopleResource(ProtectedResource, GrampsJSONEncoder):\n\n    <BODY TimelinePeopleResource>\n\n\nclass TimelineFamiliesResource(ProtectedResource, GrampsJSONEncoder):\n\n    <BODY TimelineFamiliesResource>", "answer": "{}"}