{"embedding": [0.17985799908638, -0.3210615813732147, -0.5596467852592468, -0.4061461091041565, 0.41954508423805237, -0.47513481974601746, -0.04679255187511444, -0.19492237269878387, -0.09530873596668243, -0.6655750870704651, -0.30659180879592896, -0.5495196580886841, -0.10086284577846527, 0.30702152848243713, 0.33231356739997864, -0.12738874554634094, 0.7884746193885803, 0.18460625410079956, 0.21980760991573334, -0.19073274731636047, 0.07509955763816833, 0.07182155549526215, 0.7093285322189331, 0.3004398047924042, -0.3812204897403717, -0.17061252892017365, 0.35448095202445984, 0.2206793874502182, 0.6328850388526917, -0.4239508807659149, -0.18051503598690033, -0.7273485660552979, -0.2741692066192627, -0.364396870136261, -0.11120118200778961, -0.456867516040802, 0.08414199203252792, 0.5647184252738953, 0.17559567093849182, -0.6442169547080994, -0.008161298930644989, -0.1839430332183838, -0.22660718858242035, -0.2479197084903717, 0.4411424398422241, 0.12379059195518494, -0.04576851800084114, -0.23697739839553833, -0.513529896736145, -0.3364028036594391, -0.6377562880516052, 0.3403741419315338, 0.14990359544754028, 0.733869194984436, 0.5739333033561707, 0.16466093063354492, -0.010427986271679401, 0.3606657385826111, 0.38146474957466125, -0.7707728147506714, 0.3263963758945465, 0.7444567084312439, -0.012907177209854126, 0.10029257088899612, 0.5240873098373413, -0.06014249846339226, -0.7071162462234497, 0.19672276079654694, -0.11171986907720566, 0.3350277245044708, -0.49484097957611084, -0.2446824163198471, -0.06809201091527939, -0.2800338864326477, 0.14190903306007385, 0.01063880231231451, 0.15483401715755463, -0.6000281572341919, 0.2569987177848816, 0.09830188751220703, 0.3032534420490265, -0.4946298599243164, 0.106971874833107, 0.7576528191566467, 0.5390127301216125, 0.49296316504478455, -0.35926252603530884, 0.11212562024593353, 0.3570132553577423, 0.18606995046138763, -0.4596242904663086, -0.35234156250953674, -0.07111368328332901, 0.5899244546890259, 0.0032690868247300386, -0.30339810252189636, -0.15330862998962402, -0.04459512233734131, -0.8241074681282043, 0.07661517709493637, -0.1428380012512207, -0.06825708597898483, 0.5476799607276917, 0.2647898197174072, 0.06755881011486053, -0.29574158787727356, -0.15715286135673523, 0.09391452372074127, 0.15487441420555115, -0.2094714641571045, -0.8874602317810059, 0.08648092299699783, 0.17960570752620697, -0.489647775888443, -0.21911506354808807, 0.2851870656013489, -0.2318250983953476, -0.3075599670410156, 0.3455449640750885, -0.5891980528831482, 0.23366977274417877, -0.07135999947786331, 0.5117140412330627, -0.09416045248508453, 0.9717663526535034, 0.600594162940979, -0.6161389350891113, 0.1962876170873642, -0.27831631898880005, -0.16578324139118195, -0.006799447815865278, -0.4501763880252838, -0.7189623117446899, 0.04882767051458359, 1.0369908809661865, -0.4605788290500641, 0.1191171407699585, 0.11078290641307831, 0.09986493736505508, 0.5150178670883179, -0.15542899072170258, -0.2998448610305786, -0.41524913907051086, -0.4347948729991913, -0.4265284836292267, -0.4406542479991913, -0.18315547704696655, -0.4775887131690979, -0.3095328211784363, 0.08131485432386398, 0.29826614260673523, -0.5135894417762756, -0.3007937967777252, -0.5942886471748352, -0.01101724337786436, 1.2801909446716309, -0.282949298620224, -0.8928079605102539, 0.31762680411338806, -0.09025415033102036, 0.3902708888053894, -0.6589991450309753, 0.12090443074703217, -0.18682463467121124, -0.20807680487632751, 0.4176536202430725, -0.16480709612369537, 0.44098830223083496, -0.4042797386646271, 0.44162917137145996, 0.28934791684150696, 0.18349789083003998, -0.5742780566215515, -0.020097071304917336, -0.38734397292137146, 0.24481256306171417, 0.2184004932641983, -0.4878779649734497, 0.3257148563861847, -0.42331090569496155, -0.9691414833068848, -0.7896345853805542, 0.6635879874229431, -0.11356085538864136, 0.38667014241218567, -0.41509824991226196, 0.48863890767097473, 0.5129852294921875, 0.2557300329208374, 0.7663519978523254, -0.9647735953330994, -0.4057237505912781, 0.48257407546043396, 0.17987321317195892, -0.12585723400115967, 0.20372451841831207, -0.46562686562538147, 0.21176517009735107, 0.5698484778404236, -0.6836723685264587, -0.29744449257850647, 0.07502685487270355, 0.4650692641735077, -0.7761513590812683, 0.8957149982452393, 0.1977427899837494, 0.1176203265786171, -0.4018992781639099, 0.8907357454299927, -0.5833015441894531, 0.33038726449012756, 0.6696255803108215, 0.25892701745033264, 0.07332469522953033, 0.22191552817821503, -0.46809661388397217, 0.8195829391479492, -0.235392764210701, 0.20516224205493927, 0.339722603559494, -0.004372525494545698, -0.27317699790000916, -0.17040476202964783, -0.44384676218032837, -0.2938559353351593, 0.1277819722890854, 0.7264209389686584, 0.5215004086494446, 0.755541205406189, -0.2414124310016632, 0.4254346787929535, -0.6241774559020996, 0.36777836084365845, 0.32017382979393005, -0.6441200375556946, -0.8896160125732422, -0.2791367769241333, 0.034541696310043335, -0.5696305632591248, -0.5528551936149597, 0.23022472858428955, -0.17920702695846558, -0.24783067405223846, 0.1329767107963562, -0.574764609336853, -0.1529126763343811, -0.1473226398229599, -0.3587009906768799, 0.07052142918109894, -0.49555933475494385, 0.03318137302994728, -0.2747998833656311, 0.07189450412988663, -0.009923046454787254, -0.6874814033508301, -0.6557273864746094, -0.7803760766983032, 0.47321605682373047, -0.2657260596752167, -0.44504982233047485, 0.2899264395236969, -0.5559871792793274, -0.7071681022644043, 0.7633792161941528, 0.6301724314689636, 0.24151834845542908, 0.2431527078151703, -0.6868032813072205, 0.35814368724823, -0.16986298561096191, 0.32347747683525085, 0.9286953210830688, 0.005358745809644461, 0.01992114819586277, -1.0577738285064697, -0.4592847228050232, 0.11162254214286804, 0.526556670665741, -0.6618151068687439, -0.9325416684150696, 0.22570033371448517, -0.32563528418540955, -0.10612057894468307, 0.6057310104370117, -0.3125385642051697, -0.1814967691898346, 0.2681826055049896, 0.6562012434005737, -0.3889513909816742, 0.23404735326766968, 0.30736610293388367, 0.7012584209442139, 0.16581739485263824, -0.1401086300611496, 0.2584608197212219, 0.9137160778045654, -0.6787398457527161, -0.03429752215743065, 0.17240232229232788, -0.4848445951938629, 0.11981584131717682, -0.27237173914909363, 0.0223122239112854, -0.6376771926879883, 0.0114892004057765, 0.4873402714729309, 0.6084225177764893, -0.7732190489768982, 0.28252464532852173, -0.23594506084918976, 0.17177678644657135, -0.4377133846282959, 0.1416926383972168, 0.8175101280212402, -0.25465965270996094, -0.5942812561988831, 0.49644479155540466, -0.7694026231765747, 0.01349454466253519, 0.14662860333919525, -0.46131548285484314, 0.4858814477920532, 0.5898073315620422, -0.7403188943862915, 0.7437649369239807, 0.20432321727275848, 0.5023879408836365, 0.6578666567802429, 0.3034079372882843, 0.33963286876678467, -0.4544907510280609, 0.5126234292984009, 0.45667919516563416, 0.062122929841279984, -0.12792232632637024, 0.07739473879337311, -0.4500890076160431, -0.49988070130348206, -0.2774674594402313, -0.7660568952560425, 0.3993520140647888, 0.1074303463101387, 0.0502205453813076, 0.21764585375785828, 0.503503680229187, -0.554930567741394, 0.6985445022583008, 0.07932025194168091, 0.38224610686302185, -0.5124542713165283, 0.9497128129005432, -0.05948665738105774, -0.10485149919986725, 0.454904705286026, 0.9458125233650208, -0.8507289886474609, 0.007297853473573923, -0.9177875518798828, 0.23530155420303345, -0.7100284099578857, -0.26356610655784607, -0.15767580270767212, -0.060966912657022476, 0.26246514916419983, -0.34211981296539307, -0.48173776268959045, 0.18819460272789001, -0.5119702219963074, 0.7992863655090332, 0.20024245977401733, 1.1424697637557983, -0.23609742522239685, 0.28302064538002014, -0.04660139977931976, -0.7327355742454529, 0.15104511380195618, 0.1788213700056076, -0.6377010345458984, -1.2854840755462646, -0.16151605546474457, 0.5184136033058167, 0.6315707564353943, 0.43014445900917053, 0.18757706880569458, 0.490543931722641, -1.1224884986877441, 0.4795500934123993, -0.01870296150445938, 0.0620909221470356, -0.11012419313192368, -0.18115989863872528, -0.028914250433444977, 0.2947838306427002, 0.47729769349098206, 0.20462892949581146, -0.2401319444179535, 0.5149064064025879, -0.1750907301902771, -0.30541107058525085, 0.0037041984032839537, 0.20535610616207123, -0.14736229181289673, 0.48748889565467834, 0.028280673548579216, 0.32105928659439087, -0.6135320663452148, -0.0007685139426030219, 0.4209887385368347, -0.562791109085083, 0.6877717971801758, -0.1958211213350296, 0.19640514254570007, -0.6130812764167786, 0.47930431365966797, 0.22812806069850922, -0.32198566198349, -0.47342121601104736, 1.2275629043579102, 0.14041508734226227, 0.3821679949760437, -0.11649380624294281, -0.2286507934331894, 0.631244957447052, 0.6388376951217651, 0.0704706460237503, 0.45027101039886475, 0.12870626151561737, 0.1442503184080124, -0.09842421114444733, 0.16610316932201385, -0.15173164010047913, 0.10915516316890717, -0.3385983407497406, -0.5760984420776367, -0.1798718124628067, 0.2080174684524536, -0.3468216359615326, -0.0022544176317751408, 0.6241523027420044, 0.0620097815990448, -0.1308729350566864, -0.167327418923378, 0.2953305244445801, -0.4928893446922302, 0.5742233395576477, -0.527031421661377, -0.6865123510360718, 0.4624773859977722, 1.3016340732574463, -0.333415687084198, -0.5500919818878174, 0.46995478868484497, 0.5111638307571411, -0.6459658741950989, -0.6024262309074402, -0.7765617370605469, -0.5926404595375061, 0.3087928593158722, 0.15061481297016144, 0.09506560862064362, 0.11504089087247849, -0.5611816048622131, 0.30934494733810425, 0.48819318413734436, 0.43313151597976685, -0.29042139649391174, 0.6731461882591248, 0.5634453296661377, -0.24671626091003418, -0.2962741553783417, -0.44572553038597107, -0.27874135971069336, 0.04231275990605354, 0.5103441476821899, 0.9513540863990784, 0.021839819848537445, -0.2508212924003601, -1.1371276378631592, -0.44877779483795166, -0.38747885823249817, 0.18171723186969757, -0.2172258347272873, 0.6500906944274902, 0.5114429593086243, -0.9625513553619385, -0.6120092272758484, 0.35274815559387207, -0.35735881328582764, -0.20935270190238953, -0.8488924503326416, -0.14615404605865479, -0.5881248116493225, 0.21675024926662445, 0.04047341272234917, 0.13471786677837372, 0.45942428708076477, 0.24024908244609833, 0.07217656075954437, -0.1362096667289734, -0.24598966538906097, 0.2693214416503906, 0.004158430267125368, -0.0636090636253357, 0.08089791238307953, 0.19120387732982635, 0.015190431848168373, -0.027494365349411964, 0.037154797464609146, -0.15837082266807556, 0.13725322484970093, -0.20909354090690613, -0.28959938883781433, 0.7583251595497131, 0.09189697355031967, 0.10679516196250916, 0.1720045655965805, 0.46451541781425476, 0.23731179535388947, 0.41453495621681213, 0.14745382964611053, 0.12223298847675323, -0.2743269205093384, 0.0420488566160202, -0.2696678936481476, -0.004298051819205284, -0.06706588715314865, -0.21468806266784668, 0.31419989466667175, 0.34722116589546204, 0.8017153739929199, 0.4363160729408264, 0.5556850433349609, 0.5456702709197998, -0.3071553111076355, 0.2686842083930969, -0.11224249750375748, -0.14746344089508057, -0.42169734835624695, 0.6852167248725891, -0.060141075402498245, 0.41887733340263367, 0.5195836424827576, -0.5341554284095764, 0.0028991233557462692, -0.6185888648033142, -0.16923990845680237, 0.16349035501480103, -0.05341150239109993, 0.5319457650184631, -0.5524377822875977, 0.019487610086798668, 0.5328473448753357, 0.25446632504463196, 0.04428696259856224, -0.8237096667289734, 0.09369783103466034, 0.06687627732753754, 0.36547571420669556, 0.27218306064605713, 0.4746253788471222, -0.3063609004020691, -0.5686623454093933, -1.154013752937317, -0.23986618220806122, 0.40863335132598877, 0.3210430443286896, 0.2798199951648712, 0.3755556643009186, 0.18922774493694305, -0.5941319465637207, -0.24966557323932648, -0.23621289432048798, 0.4984852075576782, 0.041337478905916214, -0.7672719955444336, -0.44254612922668457, -0.22822652757167816, -0.17572511732578278, -0.015522340312600136, -0.49242010712623596, 0.7640865445137024, -0.4512362480163574, -0.6623619794845581, -0.05662505701184273, -0.8108264803886414, 0.6251059770584106, 1.0631747245788574, 0.3195638358592987, 0.36886972188949585, -0.3438311219215393, -0.22148340940475464, 0.3801955282688141, 0.012762193568050861, -0.591342568397522, -0.22570686042308807, 0.8968740701675415, -0.4546796977519989, 0.23690840601921082, 0.11786791682243347, 0.09265931695699692, -0.6474360227584839, 0.3220776319503784, 0.3875974118709564, -0.4848587214946747, 0.02235381491482258, 0.2229240983724594, -0.22134168446063995, -0.6069109439849854, -0.4376019537448883, 0.5819948315620422, 0.29422327876091003, -0.5933857560157776, 0.10660294443368912, 0.5826067328453064, -0.774141788482666, 0.4609731435775757, 0.39256376028060913, 0.42865461111068726, 0.3635442852973938, -0.41661134362220764, -0.3907155394554138, 0.43691733479499817, 0.0589539110660553, 0.10966075211763382, -0.805207371711731, -0.12665773928165436, -0.05978056788444519, -0.2802095413208008, -0.33274880051612854, 0.31940123438835144, -0.3552232086658478, -0.863599419593811, 0.07412876188755035, 0.16654781997203827, 0.7264604568481445, -0.49018049240112305, 0.5607706904411316, -0.48722466826438904, -0.2629713714122772, 0.024639863520860672, 0.5847426056861877, 0.16581785678863525, 0.09537563472986221, 0.5132623910903931, 0.43013542890548706, 0.29920926690101624, -0.4571605622768402, -0.09211620688438416, 0.42545998096466064, -0.40580302476882935, 0.006838787812739611, 0.48969554901123047, -0.05611763894557953, 0.5447013974189758, -0.9606813192367554, 0.3475398123264313, -0.929520308971405, -0.41814789175987244, -0.38283097743988037, -0.014040653593838215, -0.047382652759552, -0.08017830550670624, 1.0363492965698242, -0.2936288118362427, -0.9216102957725525, -0.1476258784532547, 0.7723109126091003, -0.2766741216182709, 0.7315643429756165, 0.7962322235107422, 0.5073864459991455, -0.4416709542274475, 1.0845003128051758, 0.22426560521125793, 0.15370412170886993, -0.3295941650867462, 0.14188432693481445, 0.3873022794723511, -0.03174148499965668, 0.24602100253105164, -1.0097242593765259, 0.13613247871398926, 0.01882563903927803, -0.1729760617017746, 0.2064846009016037, 0.32008183002471924, -0.020501824095845222, 0.36765822768211365, 0.45627909898757935, -0.010193219408392906, -0.5708398222923279, 0.02908765710890293, -0.16733801364898682, 0.0034366887994110584, -0.8142479658126831, -0.514917254447937, -0.323611319065094, -0.7709060311317444, 0.31479305028915405, -0.003178009297698736, 0.7797649502754211, -0.3261054754257202, 0.5996845960617065, 0.5275509357452393, -0.018668057397007942, 0.09725675731897354, -0.33750632405281067, -0.9450600147247314, 0.2720337510108948, -0.13520319759845734, 0.04068155959248543, -0.06459520012140274, 0.3014635443687439, 0.060218486934900284, 0.6156273484230042, -0.3588404357433319, -0.7141072154045105, 0.31280583143234253, -0.508599579334259, 0.12018516659736633, -0.011246388778090477, 0.017447063699364662, 1.008742332458496, -0.25541940331459045, 1.200051188468933, -0.2854067385196686, -0.28824353218078613, -0.7223214507102966, 1.1594706773757935, -0.32580551505088806, -0.3146529793739319, -0.3145896792411804, 0.14783668518066406, 0.7211661338806152, 0.144499272108078, -0.13761596381664276, 0.6620362997055054, -0.3897230327129364, -0.17864078283309937, -0.2025901824235916, -0.22648322582244873, -0.33333510160446167, -0.7742438912391663, -0.39095577597618103, -0.7381390929222107, 0.22054892778396606, 0.43643882870674133, -0.3383067846298218, 0.02147115394473076, -0.40150120854377747, 0.47248637676239014, -0.08075929433107376, 0.16652072966098785, 0.29217812418937683, -0.2620857059955597, 0.2729181945323944, 0.5791053175926208, 0.8224281668663025, 0.1682290881872177, -0.4705958068370819, 0.5312982201576233, 0.18669626116752625, -0.7318598628044128, -0.549625813961029, 1.3934434652328491, 0.29623040556907654, 0.10245803743600845, 0.4933849275112152], "query": "#\n\n# Gramps Web API - A RESTful API for the Gramps genealogy program\n\n#\n\n# Copyright (C) 2020      David Straub\n\n#\n\n# This program is free software; you can redistribute it and/or modify\n\n# it under the terms of the GNU Affero General Public License as published by\n\n# the Free Software Foundation; either version 3 of the License, or\n\n# (at your option) any later version.\n\n#\n\n# This program is distributed in the hope that it will be useful,\n\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\n# GNU Affero General Public License for more details.\n\n#\n\n# You should have received a copy of the GNU Affero General Public License\n\n# along with this program. If not, see <https://www.gnu.org/licenses/>.\n\n#\n\n\n\"\"\"Command line interface for the Gramps web API.\"\"\"\n\n\nfrom __future__ import annotations\n\n\nimport logging\n\nimport os\n\nimport subprocess\n\nimport sys\n\nimport time\n\nimport warnings\n\n\nimport click\n\n\nfrom .api.search import get_search_indexer\n\nfrom .api.util import get_db_manager, list_trees, close_db\n\nfrom .app import create_app\n\nfrom .auth import add_user, delete_user, fill_tree, user_db\n\nfrom .const import ENV_CONFIG_FILE, TREE_MULTI\n\nfrom .dbmanager import WebDbManager\n\n\nlogging.basicConfig()\n\nLOG = logging.getLogger(\"gramps_webapi\")\n\n\n\n@click.group(\"cli\")\n\n@click.option(\"--config\", help=\"Set the path to the config file\")\n\n@click.pass_context\n\ndef cli(ctx, config):\n\n    <BODY cli>\n\n\n@cli.command(\"run\")\n\n@click.option(\"-p\", \"--port\", help=\"Port to use (default: 5000)\", default=5000)\n\n@click.option(\"--tree\", help=\"Tree ID\", default=None)\n\n@click.pass_context\n\ndef run(ctx, port, tree):\n\n    <BODY run>\n\n\n@cli.group(\"user\", help=\"Manage users.\")\n\n@click.pass_context\n\ndef user(ctx):\n\n    <BODY user>\n\n\n@user.command(\"add\")\n\n@click.argument(\"name\")\n\n@click.argument(\"password\", required=True)\n\n@click.option(\"--fullname\", help=\"Full name\", default=\"\")\n\n@click.option(\"--email\", help=\"E-mail address\", default=None)\n\n@click.option(\"--role\", help=\"User role\", default=0, type=int)\n\n@click.option(\"--tree\", help=\"Tree ID\", default=None)\n\n@click.pass_context\n\ndef user_add(ctx, name, password, fullname, email, role, tree):\n\n    <BODY user_add>\n\n\n@user.command(\"delete\")\n\n@click.argument(\"name\")\n\n@click.pass_context\n\ndef user_del(ctx, name):\n\n    <BODY user_del>\n\n\n@user.command(\"fill-tree\")\n\n@click.argument(\"tree\")\n\n@click.pass_context\n\ndef cmd_fill_tree(ctx, tree):\n\n    <BODY cmd_fill_tree>\n\n\n@user.command(\"migrate\")\n\n@click.pass_context\n\ndef migrate_db(ctx):\n\n    <BODY migrate_db>\n\n\n@cli.group(\"search\", help=\"Manage the full-text search index.\")\n\n@click.option(\"--tree\", help=\"Tree ID\", default=None)\n\n@click.option(\n\n    \"--semantic/--fulltext\",\n\n    help=\"Semantic rather than full-text search index\",\n\n    default=False,\n\n)\n\n@click.pass_context\n\ndef search(ctx, tree, semantic):\n\n    <BODY search>\n\n\ndef progress_callback_count(current: int, total: int, prev: int | None = None) -> None:\n\n    <BODY progress_callback_count>\n\n\n@search.command(\"index-full\")\n\n@click.pass_context\n\ndef index_full(ctx):\n\n    <BODY index_full>\n\n\n@search.command(\"index-incremental\")\n\n@click.pass_context\n\ndef index_incremental(ctx):\n\n    <BODY index_incremental>\n\n\n@cli.group(\"tree\", help=\"Manage trees.\")\n\n@click.pass_context\n\ndef tree(ctx):\n\n    <BODY tree>\n\n\n@tree.command(\"list\")\n\n@click.pass_context\n\ndef tree_list(ctx):\n\n    <BODY tree_list>\n\n\n@cli.group(\"grampsdb\", help=\"Manage a Gramps daabase.\")\n\n@click.option(\"--tree\", help=\"Tree ID\", default=None)\n\n@click.pass_context\n\ndef grampsdb(ctx, tree):\n\n    <BODY grampsdb>\n\n\n@grampsdb.command(\"migrate\")\n\n@click.pass_context\n\ndef migrate_gramps_db(ctx):\n\n    <BODY migrate_gramps_db>\n\n\nif __name__ == \"__main__\":\n\n    LOG.setLevel(logging.INFO)\n\n\n    cli(\n\n        prog_name=\"python3 -m gramps_webapi\"\n\n    )  # pylint:disable=no-value-for-parameter,unexpected-keyword-arg\n", "answer": "{}"}