useGetSavedResultsByPage = (params: ResultParams): UseGetSavedResultsReturn => {
    const { accessToken } = useViewer()
    const [totalPages, setTotalPages] = useState<number>(0)

    const query = useQuery({
        queryFn: () => ResultsService.fetchSavedResults(params),
        queryKey: [queryKeysEnum.savedResults, accessToken, params]
    })

    useEffect(() => {
        if (!query.data) return
        setTotalPages(query.data.totalPages)
    }, [query.data?.totalPages])

    return { ...query, totalPages }
}