useLocalStorage = <T = string>(
    name: string,
    defaultValue: T,
    parseCallback: (localStorageItem: string, defaultValue: T) => T,
    stringifyCallback: (item: T | null) => string
): [item: T, setItem: Dispatch<SetStateAction<T>>] => {
    const [item, setItem] = useState<T>(() => {
        const itemFromStorage = localStorage.getItem(name)
        if (itemFromStorage === null) {
            return defaultValue
        }
        return parseCallback(itemFromStorage, defaultValue)
    })

    useEffect(() => {
        localStorage.setItem(name, stringifyCallback(item))
    }, [item])

    return [item, setItem]
}