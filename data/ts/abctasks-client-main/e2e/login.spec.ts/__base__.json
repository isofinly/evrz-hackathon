{"start_line": 0, "code": "import { faker } from '@faker-js/faker';\n\nimport { Page, expect } from '@playwright/test';\n\nimport { test } from './fixtures';\n\n\nconst getFormControls = (page: Page) => <BODY getFormControls>;\n\n\ntest.describe('login page(online)', () => {\n\n\tconst email = faker.internet.email();\n\n\tconst password = faker.internet.password();\n\n\n\ttest.beforeEach(async ({ page }) => {\n\n\t\tawait page.goto('/login');\n\n\t});\n\n\n\ttest('has title', async ({ page }) => {\n\n\t\tawait expect(page).toHaveTitle('Login');\n\n\t});\n\n\n\ttest('has correct view', async ({ page }) => {\n\n\t\tawait expect(page).toHaveScreenshot();\n\n\t});\n\n\n\ttest('has link to registration page', async ({ page }) => {\n\n\t\tconst link = page.getByRole('link');\n\n\n\t\tawait expect(link).toBeVisible();\n\n\n\t\tawait link.click();\n\n\n\t\tawait expect(page).toHaveURL('/registration');\n\n\t});\n\n\n\ttest('has error on incorrect login into account', async ({\n\n\t\tpage,\n\n\t\tremoveUser,\n\n\t}) => {\n\n\t\tawait removeUser({\n\n\t\t\temail,\n\n\t\t});\n\n\n\t\tconst controls = getFormControls(page);\n\n\n\t\tawait controls.email.fill(email);\n\n\t\tawait controls.password.fill(password);\n\n\t\tawait controls.rememberMe.check();\n\n\t\tawait controls.button.click();\n\n\n\t\tconst error = page.getByText('User was not found');\n\n\n\t\tawait expect(error).toBeVisible();\n\n\t\tawait expect(error).toHaveCSS('color', 'rgb(211, 47, 47)');\n\n\t\tawait expect(page.locator('label', { hasText: 'Email' })).toHaveCSS(\n\n\t\t\t'color',\n\n\t\t\t'rgb(211, 47, 47)'\n\n\t\t);\n\n\t});\n\n\n\ttest('has error on try log in into inactivated account', async ({\n\n\t\tpage,\n\n\t\tuser,\n\n\t}) => {\n\n\t\tconst deactivated = await user({\n\n\t\t\temail: faker.internet.email(),\n\n\t\t\tpassword,\n\n\t\t\tactivated: false,\n\n\t\t});\n\n\n\t\tconst controls = getFormControls(page);\n\n\n\t\tawait controls.email.fill(deactivated.email);\n\n\t\tawait controls.password.fill(password);\n\n\t\tawait controls.rememberMe.check();\n\n\t\tawait controls.button.click();\n\n\n\t\tconst error = page.getByText('User was not found');\n\n\n\t\tawait expect(error).toBeVisible();\n\n\t\tawait expect(error).toHaveCSS('color', 'rgb(211, 47, 47)');\n\n\t\tawait expect(page.locator('label', { hasText: 'Email' })).toHaveCSS(\n\n\t\t\t'color',\n\n\t\t\t'rgb(211, 47, 47)'\n\n\t\t);\n\n\t});\n\n\n\ttest('redirect into rooms page after success login', async ({\n\n\t\tpage,\n\n\t\tuser,\n\n\t}) => {\n\n\t\tconst registeredUser = await user({\n\n\t\t\temail,\n\n\t\t\tpassword,\n\n\t\t\tactivated: true,\n\n\t\t});\n\n\n\t\tconst controls = getFormControls(page);\n\n\n\t\tawait controls.email.fill(registeredUser.email);\n\n\t\tawait controls.password.fill(password);\n\n\t\tawait controls.rememberMe.check();\n\n\t\tawait controls.button.click();\n\n\n\t\tawait expect(page).toHaveURL('/rooms');\n\n\t});\n\n});\n"}