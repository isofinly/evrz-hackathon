TaskColumn: React.FC<TaskColumnProps> = (props) => {
	const { tasks, className, columnStatus, hasActions, header, isLoading } =
		props;
	const id = React.useId();

	const onDrop = useUnit(dragTaskModel.drop);

	let items: React.ReactElement[];

	if (isLoading) {
		items = getEmptyArray(4).map((_, i) => <SkeletonTaskCard key={i} />);
	} else {
		items = tasks.map((task) => {
			return <TaskCard {...task} key={task.id} />;
		});
	}

	const headerActions = hasActions ? (
		<OpenCreateTaskButton columnStatus={columnStatus} />
	) : null;

	/**
	 * @todo
	 * Should I make it ul list?
	 */
	return (
		<Stack
			className={cn(styles.wrapper, className)}
			spacing={1}
			onDrop={onDrop}
			onDragOver={onDragOver}
			data-status={columnStatus}
			aria-labelledby={id}
			component='section'>
			<TaskColumnHeader id={id} slots={{ actions: headerActions }}>
				{header}
			</TaskColumnHeader>
			<Stack className={styles.list} spacing={1} role='group'>
				{items}
			</Stack>
		</Stack>
	);
}