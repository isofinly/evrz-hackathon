InvitationCard: React.FC<InvitationCardProps> = (props) => {
	const { id, inviter, room, className } = props;

	const user = useUnit(sessionModel.$user);

	if (!user) {
		return null;
	}

	const inviterAvatar = (
		<UserAvatar
			email={inviter.email}
			photo={inviter.photo}
			username={inviter.username}
		/>
	);

	const userAvatar = (
		<UserAvatar
			email={user.email}
			photo={user.photo}
			username={user.username}
		/>
	);

	const actions = (
		<>
			<RejectInvitationButton id={id} />
			<ApproveInvitationButton id={id} />
		</>
	);

	return (
		<TemplateInvitationCard
			className={className}
			inviterName={inviter.username}
			roomName={room.name}
			username={user.username}
			slots={{
				inviterAvatar,
				userAvatar,
				actions,
			}}
		/>
	);
}