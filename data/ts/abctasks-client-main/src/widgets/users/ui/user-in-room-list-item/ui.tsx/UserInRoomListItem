UserInRoomListItem: React.FC<UserInRoomListItemProps> = (
	props
) => {
	const { id, roomId, ...rest } = props;

	const authUser = useUnit(sessionModel.$user);
	const room = useUnit(roomModel.query.$data);

	const isOwnerAuthorized = authUser?.id === room?.ownerId;
	const isOwner = id === room?.ownerId;

	const isAuthorized = authUser?.id === id;

	const exitButton =
		isAuthorized && !isOwner ? <ExitRoomUserButton roomId={roomId} /> : null;

	const removeUserButton =
		isOwnerAuthorized && !isOwner ? <RemoveUserFromRoom userId={id} /> : null;

	const actions = (
		<>
			{exitButton}
			{removeUserButton}
		</>
	);

	return <TemplateUserListItem id={id} {...rest} slots={{ actions }} />;
}