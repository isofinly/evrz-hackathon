import { Number, Record, Static, String } from 'runtypes';

import {
	DatesFiltersParams,
	InRoomParams,
	PaginationParams,
	SortParams
} from '@/shared/types';

import { user } from '../auth';

export const activityAction = Record({
	id: Number,
	name: String,
}).asReadonly();

export interface ActivityAction extends Static<typeof activityAction> <BODY ActivityAction>

export const activitySphere = Record({
	id: Number,
	name: String,
}).asReadonly();

export interface ActivitySphere extends Static<typeof activitySphere> <BODY ActivitySphere>

export const activity = Record({
	id: Number,
	roomId: Number,
	activist: user,
	action: activityAction,
	sphere: activitySphere,
	createdAt: String,
}).asReadonly();

export interface Activity extends Static<typeof activity> <BODY Activity>

export interface GetActivitiesInRoomParams
	extends InRoomParams,
		PaginationParams,
		SortParams,
		DatesFiltersParams <BODY GetActivitiesInRoomParams>

export interface GetLastActivitiesInRoomParams extends InRoomParams <BODY GetLastActivitiesInRoomParams>