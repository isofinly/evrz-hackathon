{"start_line": 0, "code": "import { sample } from 'effector';\n\n\nimport { invitationsModel } from '@/entities/invitations';\n\nimport { roomModel, roomsModel } from '@/entities/rooms';\n\nimport { usersInRoomModel } from '@/entities/users';\n\n\nimport { routes } from '@/shared/configs';\n\nimport { sessionModel } from '@/shared/models';\n\n\nexport const currentRoute = routes.room.users;\n\nexport const authorizedRoute = sessionModel.chainAuthorized(currentRoute, {\n\n\totherwise: routes.login.open,\n\n});\n\n\nsample({\n\n\tclock: authorizedRoute.opened,\n\n\tfn: ({ params, }) => ({ roomId: params.id, }),\n\n\ttarget: [\n\n\t\tusersInRoomModel.query.start,\n\n\t\troomsModel.query.start,\n\n\t\tinvitationsModel.query.start,\n\n\t\troomModel.query.start\n\n\t],\n\n});\n\n\nsample({\n\n\tclock: authorizedRoute.closed,\n\n\ttarget: [\n\n\t\tusersInRoomModel.query.reset,\n\n\t\troomsModel.query.reset,\n\n\t\tinvitationsModel.query.reset\n\n\t],\n\n});\n"}