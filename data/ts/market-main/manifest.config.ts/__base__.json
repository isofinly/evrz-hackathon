{"start_line": 0, "code": "import { defineManifest } from '@crxjs/vite-plugin'\n\nimport packageJson from './package.json'\n\nconst { version } = packageJson\n\n\n// Convert from Semver (example: 0.1.0-beta6)\n\nconst [major, minor, patch, label = '0'] = version\n\n\t// can only contain digits, dots, or dash\n\n\t.replace(/[^\\d.-]+/g, '')\n\n\t// split into version parts\n\n\t.split(/[.-]/)\n\n\nexport default defineManifest(async (env) => ({\n\n\tmanifest_version: 3,\n\n\tname:\n\n\t\tenv.mode === 'staging'\n\n\t\t\t? '[INTERNAL] CRXJS Power Tools'\n\n\t\t\t: 'CRXJS Power Tools',\n\n\t// up to four numbers separated by dots\n\n\tversion: `${major}.${minor}.${patch}.${label}`,\n\n\t// semver is OK in \"version_name\"\n\n\tversion_name: version,\n\n}))\n"}