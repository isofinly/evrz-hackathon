{"start_line": 0, "code": "import { createFilter } from \"./model\";\n\nimport { split } from \"effector\";\n\nimport { not } from \"../../shared\";\n\nimport { differenceInHours, getHours, isSameDay } from \"date-fns\";\n\n\n// <REVIEW>createFilter \u0434\u043e\u043b\u0436\u043d \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442\u044c \u0432 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u043f\u043e \u043f\u0443\u0442\u0438 /src/Model/{\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435}/state.ts</REVIEW> \nexport const noOvernightFlightsFilter = createFilter(\n\n  \"noOvernightFlightsFilter\",\n\n  {\n\n    isFit: (result) => {\n\n      const sameDay = isSameDay(result.arrival, result.departure);\n\n      const departureAfterMorningStart = getHours(result.departure) >= 8;\n\n      return sameDay && departureAfterMorningStart;\n\n    },\n\n  }\n\n);\n\n// <REVIEW>createFilter \u0434\u043e\u043b\u0436\u043d \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442\u044c \u0432 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u043f\u043e \u043f\u0443\u0442\u0438 /src/Model/{\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435}/state.ts</REVIEW> \nexport const onlyConvenientFlightsFilter = createFilter(\n\n  \"onlyConvenientFlightsFilter\",\n\n  { isFit: (result) => isSameDay(result.arrival, result.departure) }\n\n);\n\n// <REVIEW>createFilter \u0434\u043e\u043b\u0436\u043d \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442\u044c \u0432 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u043f\u043e \u043f\u0443\u0442\u0438 /src/Model/{\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435}/state.ts</REVIEW> \nexport const onlyFastFlightsFilter = createFilter(\"onlyFastFlightsFilter\", {\n\n  isFit: (result) => differenceInHours(result.arrival, result.departure) < 6,\n\n});\n\n\nsplit({\n\n  source: noOvernightFlightsFilter.$active,\n\n  match: {\n\n    active: noOvernightFlightsFilter.$active,\n\n    inactive: not,\n\n  },\n\n  cases: {\n\n    active: onlyConvenientFlightsFilter.disable,\n\n    inactive: onlyConvenientFlightsFilter.enable,\n\n  },\n\n});\n"}