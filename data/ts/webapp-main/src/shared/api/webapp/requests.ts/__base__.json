{"start_line": 0, "code": "import { createEffect } from 'effector'\n\nimport { api } from './api'\n\nimport { Appointment, Consulate, Price, User } from './types'\n\n\nexport const getUserFx = createEffect(() => {\n\n  return api.url('/user').get().json<User>()\n\n})\n\n\nexport const getAppointmentsFx = createEffect(() => {\n\n  return api.url('/appointments').get().json<Appointment[]>()\n\n})\n\n\nexport const getAppointmentPriceFx = createEffect(\n\n  (payload: { consulateId: string }) => {\n\n    return api.url('/appointments/price').query(payload).get().json<Price>()\n\n  },\n\n)\n\n\nexport interface CreateAppointmentPayload <BODY CreateAppointmentPayload>\n\nexport const createAppointmentFx = createEffect(\n\n  (payload: CreateAppointmentPayload) => {\n\n    return api.url('/appointments/create').post(payload).res()\n\n  },\n\n)\n\n\nexport const sendAppointmentInvoiceFx = createEffect(\n\n  (payload: { appointmentId: string }) => {\n\n    return api\n\n      .url(`/appointments/${payload.appointmentId}/send-invoice`)\n\n      .post(payload)\n\n      .json()\n\n  },\n\n)\n\n\nexport const getConsulatesFx = createEffect(() => {\n\n  return api.url('/consulates').get().json<Consulate[]>()\n\n})\n"}